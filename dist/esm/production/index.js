var w=e=>e.flat().filter(t=>t!=null&&t!==!1).map(t=>t instanceof Node?t:document.createTextNode(String(t))),D=(e=document)=>t=>e.querySelector(t),G=(e=document)=>t=>Array.from(e.querySelectorAll(t)),ve=e=>t=>e==null?void 0:e.closest(t),m=e=>(t,n,r=!1)=>{if(!e)return()=>{};let s=o=>n(o,e);return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},be=e=>(t,n,r,s=!1)=>{if(!e)return()=>{};let o=a=>{var u;let i=a.target,l=(u=i==null?void 0:i.closest)==null?void 0:u.call(i,n);l&&e.contains(l)&&r(a,l)};return e.addEventListener(t,o,s),()=>e.removeEventListener(t,o,s)},X=e=>(t,n,r={bubbles:!0})=>(e&&e.dispatchEvent(new CustomEvent(t,{detail:n,...r})),e),x=e=>t=>e?(t.text!==void 0&&(e.innerText=t.text),t.html!==void 0&&(e.innerHTML=t.html),t.value!==void 0&&(e.value=t.value),t.disabled!==void 0&&(e.disabled=t.disabled),t.style&&Object.assign(e.style,t.style),t.dataset&&Object.entries(t.dataset).forEach(([n,r])=>{r!==void 0&&(e.dataset[n]=r===null?void 0:String(r))}),t.class&&Object.entries(t.class).forEach(([n,r])=>e.classList.toggle(n,!!r)),t.attr&&Object.entries(t.attr).forEach(([n,r])=>{r===!1||r===null||r===void 0?e.removeAttribute(n):e.setAttribute(n,String(r))}),e):null,F=e=>t=>(e&&Object.assign(e.style,t),e),z=e=>t=>{if(!e)return()=>{};let n={};return Object.keys(t).forEach(r=>{n[r]=e.style[r]}),Object.assign(e.style,t),()=>Object.assign(e.style,n)},Y=e=>(...t)=>(e==null||e.append(...w(t)),e),Z=e=>(...t)=>(e==null||e.prepend(...w(t)),e),ee=e=>(...t)=>(e==null||e.after(...w(t)),e),te=e=>(...t)=>(e==null||e.before(...w(t)),e),O=e=>(e==null||e.remove(),null),K=e=>(e&&e.replaceChildren(),e),ne=e=>t=>(e&&t&&e.parentNode&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),t),he=e=>(t={})=>(n=[])=>{let r=document.createElement(e);return x(r)(t),r.append(...w(n)),r},ge=(e,...t)=>{let n=e.reduce((o,a,i)=>{var l;return o+a+((l=t[i])!=null?l:"")},""),r=document.createElement("template");r.innerHTML=n.trim();let s=r.content.firstElementChild;if(!s)throw new Error("html: Template did not result in an element");return s},xe=(e,...t)=>{let n=e.reduce((s,o,a)=>{var i;return s+o+((i=t[a])!=null?i:"")},""),r=document.createElement("template");return r.innerHTML=n.trim(),r.content},re=e=>(t=!0)=>e?e.cloneNode(t):null,f={add:e=>(...t)=>(e==null||e.classList.add(...t),e),remove:e=>(...t)=>(e==null||e.classList.remove(...t),e),toggle:e=>(t,n)=>(e==null||e.classList.toggle(t,n),e),replace:e=>(t,n)=>(e==null||e.classList.replace(t,n),e),has:e=>t=>!!e&&e.classList.contains(t)},we=e=>(t,n)=>{if(!e)return()=>{};let r=e.classList.contains(t),s=new MutationObserver(()=>{let o=e.classList.contains(t);o!==r&&(r=o,n(o,e))});return s.observe(e,{attributes:!0,attributeFilter:["class"]}),()=>s.disconnect()},se=e=>"data-"+e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),p={get:e=>t=>e==null?void 0:e.dataset[t],set:e=>(t,n)=>e&&(n==null?delete e.dataset[t]:e.dataset[t]=typeof n=="object"?JSON.stringify(n):String(n),e),read:e=>t=>{if(!e||!(t in(e.dataset||{})))return;let n=e.dataset[t];if(n==="true")return!0;if(n==="false")return!1;if(n==="null")return null;if(!isNaN(Number(n))&&n.trim()!=="")return Number(n);try{return JSON.parse(n)}catch(r){return n}},bind:e=>(t,n)=>{if(!e)return()=>{};let r=se(t),s=()=>n(p.read(e)(t),e);s();let o=new MutationObserver(a=>{a.some(i=>i.attributeName===r)&&s()});return o.observe(e,{attributes:!0,attributeFilter:[r]}),()=>o.disconnect()}},oe=e=>(t,n)=>{if(!e)return()=>{};let r=new MutationObserver(s=>s.forEach(o=>{o.attributeName&&n(e.getAttribute(o.attributeName),o.attributeName)}));return r.observe(e,{attributes:!0,attributeFilter:Array.isArray(t)?t:[t]}),()=>r.disconnect()},ie=e=>t=>{if(!e)return()=>{};let n=new MutationObserver(()=>{t(e.textContent||"")});return n.observe(e,{characterData:!0,childList:!0,subtree:!0}),()=>n.disconnect()},Le=e=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()},Se=e=>(t,n=document,r=!1)=>{let s=new WeakSet,o=!1,a=l=>{s.has(l)||(l.matches(e)&&(s.add(l),t(l),o=!0),l.querySelectorAll(e).forEach(u=>{s.has(u)||(s.add(u),t(u),o=!0)}))};n.querySelectorAll(e).forEach(a);let i=new MutationObserver(l=>l.forEach(u=>{u.addedNodes.forEach(c=>{c.nodeType===1&&a(c)})}));return r&&o?()=>{}:(i.observe(n,{childList:!0,subtree:!0}),()=>i.disconnect())},He=e=>t=>new Promise(n=>{if(!e)return;if(t(e))return n(e);let r=new MutationObserver(()=>{t(e)&&(r.disconnect(),n(e))});r.observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}),Me={get:e=>new URLSearchParams(window.location.search).get(e),getAll:e=>new URLSearchParams(window.location.search).getAll(e),set:e=>t=>(n="soft")=>{let r=new URL(window.location.href);r.searchParams.set(e,t),n==="hard"?window.location.href=r.href:window.history.pushState(null,"",r.href)}},H={serialize:e=>{let t={};return e&&e.querySelectorAll("input, select, textarea").forEach(n=>{n.name&&(n.type==="checkbox"?t[n.name]=n.checked:n.type==="radio"?n.checked&&(t[n.name]=n.value):n.type==="number"?t[n.name]=Number(n.value):t[n.name]=n.value)}),t},populate:e=>t=>e&&(Object.entries(t).forEach(([n,r])=>{let s=e.querySelector(`[name="${n}"]`);s&&(s.type==="checkbox"||s.type==="radio"?s.checked=!!r:s.value=String(r))}),e)},Re=e=>new Promise(t=>setTimeout(t,e)),Pe=()=>new Promise(e=>requestAnimationFrame(e)),ke=(e,...t)=>e.reduce((n,r,s)=>{var o;return n+r+((o=t[s])!=null?o:"")},""),b={parent:e=>(e==null?void 0:e.parentElement)||null,next:e=>e==null?void 0:e.nextElementSibling,prev:e=>e==null?void 0:e.previousElementSibling,children:e=>e?Array.from(e.children):[],siblings:e=>!e||!e.parentElement?[]:Array.from(e.parentElement.children).filter(t=>t!==e)},Ae={set:e=>(t,n)=>(e==null||e.style.setProperty(t,n),e),get:e=>t=>e?getComputedStyle(e).getPropertyValue(t).trim():""},Ce=e=>t=>{if(!e)return"";let n=getComputedStyle(e)[t];return typeof n=="string"?n:String(n)},Ne=(e,t=document.head)=>{let n=document.createElement("style");return n.textContent=e,t.appendChild(n),()=>n.remove()},ae=e=>new Promise(t=>{if(!e)return t(null);let n=()=>{e.removeEventListener("transitionend",n),e.removeEventListener("animationend",n),t(e)};e.addEventListener("transitionend",n),e.addEventListener("animationend",n),requestAnimationFrame(()=>{let r=getComputedStyle(e);r.transitionDuration==="0s"&&r.animationDuration==="0s"&&n()})}),Ie={clone:e=>{try{return structuredClone(e)}catch(t){return JSON.parse(JSON.stringify(e))}},isEqual:(e,t)=>e===t||JSON.stringify(e)===JSON.stringify(t),pick:(e,t)=>{let n={};return t.forEach(r=>{r in e&&(n[r]=e[r])}),n},omit:(e,t)=>{let n={...e};return t.forEach(r=>delete n[r]),n}},De=e=>t=>{if(!e)return[];let n=Array.from(e);return n.forEach(t),n},Fe=e=>t=>{let n={};return e&&Array.from(e).forEach(r=>{let s=t(r);(n[s]=n[s]||[]).push(r)}),n},ue=e=>{let t={};return e&&e.querySelectorAll("[data-ref]").forEach(n=>{n.dataset.ref&&(t[n.dataset.ref]=n)}),t},Oe=e=>{let t={};return e&&e.querySelectorAll("[data-ref]").forEach(n=>{let r=n.dataset.ref;r&&(t[r]=t[r]||[]).push(n)}),t},Ke=(e,t="srgb")=>{let n=document.createElement("div");n.style.color=`color-mix(in ${t}, ${e} 100%, transparent)`,document.body.appendChild(n);let r=getComputedStyle(n).color;return n.remove(),r},le=e=>t=>e?()=>{let n=t.findIndex(s=>e.classList.contains(s));n>-1&&e.classList.remove(t[n]);let r=(n+1)%t.length;e.classList.add(t[r])}:()=>{},Ue=e=>{if(!e||!e.parentNode)return e;let t=e.cloneNode(!0);return e.replaceWith(t),t},je=e=>(t={})=>{let n=typeof e=="string"?document.querySelector(e):e;if(!n||!("content"in n))throw new Error(`instantiate: Invalid template '${e}'`);let r=n.content.cloneNode(!0);return Object.keys(t).length>0&&r.firstElementChild&&x(r.firstElementChild)(t),r},qe=e=>t=>e?Array.from({length:t}).map(()=>e.cloneNode(!0)):[],ce=e=>e?e.getBoundingClientRect():new DOMRect(0,0,0,0),de=e=>{if(!e)return{top:0,left:0};let t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+window.scrollY-n.clientTop,left:t.left+window.scrollX-n.clientLeft}},$e=e=>!!(e&&(e.offsetWidth>0||e.offsetHeight>0)),Be=e=>(t={behavior:"smooth",block:"start"})=>(e==null||e.scrollIntoView(t),e),Ve=e=>t=>(e==null||e.focus(t),e),We=e=>(e==null||e.blur(),e),U=(e,t)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>e(...r),t)}},_e=(e,t)=>{let n=0;return(...r)=>{let s=Date.now();s-n>=t&&(e(...r),n=s)}},j=e=>({get:t=>{let n=e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},set:t=>n=>{let r=typeof n=="object"?JSON.stringify(n):String(n);e.setItem(t,r)},remove:t=>e.removeItem(t),clear:()=>e.clear()}),Je=j(window.localStorage),Qe=j(window.sessionStorage),me={get:e=>{let t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?decodeURIComponent(t[2]):null},set:e=>t=>(n={})=>{let r=new Date;r.setTime(r.getTime()+24*60*60*1e3*(n.days||0)),document.cookie=`${e}=${encodeURIComponent(t)};path=${n.path||"/"}`+(n.days?`;expires=${r.toUTCString()}`:"")+(n.secure?";secure":"")},remove:e=>{me.set(e)("")({days:-1})}},Ge={register:async(e,t)=>{if("serviceWorker"in navigator)try{return await navigator.serviceWorker.register(e,t)}catch(n){return null}return null},post:e=>{navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(e)}},Xe=()=>{let e=[];return{add:t=>{e.push(t)},clear:()=>{e.forEach(t=>t()),e.length=0}}},ze={create:()=>{let e=new AbortController;return{signal:e.signal,abort:()=>e.abort()}},timeout:e=>{if("timeout"in AbortSignal)return AbortSignal.timeout(e);let t=new AbortController;return setTimeout(()=>t.abort(),e),t.signal},wrap:(e,t)=>t?t.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((n,r)=>{let s=()=>{r(new DOMException("Aborted","AbortError")),t.removeEventListener("abort",s)};t.addEventListener("abort",s),e.then(o=>{t.removeEventListener("abort",s),n(o)},o=>{t.removeEventListener("abort",s),r(o)})}):e},Ye=()=>{let e=new EventTarget;return{on:(t,n)=>{let r=s=>n(s.detail);return e.addEventListener(t,r),()=>e.removeEventListener(t,r)},emit:(t,n)=>{e.dispatchEvent(new CustomEvent(t,{detail:n}))},once:(t,n)=>{let r=s=>n(s.detail);e.addEventListener(t,r,{once:!0})}}},Ze=e=>{let t=r=>(...s)=>(e&&r(e)(...s),n),n={raw:e,on:t(m),dispatch:t(X),modify:t(x),css:t(F),tempStyle:(r,s)=>{if(e){let o=z(e)(r);s&&setTimeout(o,s)}return n},append:t(Y),prepend:t(Z),after:t(ee),before:t(te),remove:()=>{e&&O(e)},empty:()=>(e&&K(e),n),wrap:t(ne),clone:()=>e?re(e):null,addClass:t(f.add),removeClass:t(f.remove),toggleClass:t(f.toggle),replaceClass:t(f.replace),hasClass:r=>e?f.has(e)(r):!1,cycleClass:t(le),dataGet:r=>e?p.get(e)(r):void 0,dataSet:t(p.set),dataRead:r=>e?p.read(e)(r):void 0,dataBind:(r,s)=>e?p.bind(e)(r,s):()=>{},watchAttr:(r,s)=>e?oe(e)(r,s):()=>{},watchText:r=>e?ie(e)(r):()=>{},val:r=>r===void 0?d.get(e):(d.set(e)(r),n),files:()=>d.files(e),onInput:r=>e?d.watch(e)(r):()=>{},onInputDebounced:(r,s)=>e?d.watchDebounced(e)(s,r):()=>{},onChange:r=>e?d.change(e)(r):()=>{},selectText:()=>(d.select(e),n),validate:()=>e?d.validate(e):!1,onKey:(r,s)=>(e&&M.is(e)(r,s),n),onTab:r=>(e&&M.onTab(e)(r),n),onArrow:r=>(e&&M.onArrow(e)(r),n),onFocus:r=>(e&&h.on(e)(r),n),onBlur:r=>(e&&h.onBlur(e)(r),n),onFocusIn:r=>(e&&h.onIn(e)(r),n),onFocusOut:r=>(e&&h.onOut(e)(r),n),trapFocus:()=>h.trap(e),clickOutside:r=>{if(!e)return()=>{};let s=o=>{e&&!e.contains(o.target)&&r()};return document.addEventListener("click",s),()=>document.removeEventListener("click",s)},hasText:r=>e?!!S.find(e)(r):!1,findText:(r,s)=>e?S.find(e)(r,s):null,findAllText:(r,s)=>e?S.findAll(e)(r,s):[],replaceText:(r,s)=>(e&&S.replace(e)(r,s),n),transitionName:t(v.name),removeTransitionName:()=>(v.unname(e),n),transitionWith:(r,s)=>v.tempName(e)(r)(s),parent:b.parent(e),next:b.next(e),prev:b.prev(e),children:b.children(e),siblings:b.siblings(e),rect:()=>ce(e),offset:()=>de(e),scrollInto:r=>(e==null||e.scrollIntoView(r),n),focus:r=>(e==null||e.focus(r),n),blur:()=>(e==null||e.blur(),n),waitTransition:()=>ae(e)};return n},et=e=>{let t=typeof e=="string"?D(document)(e):e;if(!t)return{};let n=ue(t);return{root:t,...n}},tt=e=>{let t=typeof e=="string"?G(document)(e):Array.from(e),n=s=>(o,a)=>(t.forEach(i=>s(i)(o,a)),r),r={raw:t,modify:n(x),css:n(F),addClass:n(f.add),removeClass:n(f.remove),toggleClass:n(f.toggle),attr:n(s=>o=>x(s)({attr:o})),on:(s,o)=>{let a=t.map(i=>m(i)(s,o));return()=>a.forEach(i=>i())},remove:()=>t.forEach(s=>O(s)),empty:()=>t.forEach(s=>K(s)),map:s=>t.map(s),filter:s=>t.filter(s)};return r},nt=e=>e?new Proxy({},{get:(t,n)=>p.read(e)(n),set:(t,n,r)=>(p.set(e)(n,r),!0),deleteProperty:(t,n)=>(p.set(e)(n,null),!0),ownKeys:()=>Reflect.ownKeys(e.dataset),getOwnPropertyDescriptor:(t,n)=>({enumerable:!0,configurable:!0})}):{},rt=e=>{let t=typeof e=="string"?D(document)(e):e;return{raw:t,values:()=>H.serialize(t),set:n=>H.populate(t)(n),clear:()=>{t&&t.querySelectorAll("input, select, textarea").forEach(n=>{n.type==="checkbox"||n.type==="radio"?n.checked=!1:n.value=""})},submit:n=>m(t)("submit",r=>{r.preventDefault(),n(H.serialize(t),r)})}},d={get:e=>{if(e){if(e instanceof HTMLInputElement){if(e.type==="checkbox"||e.type==="radio")return e.checked;if(e.type==="number"||e.type==="range")return e.valueAsNumber;if(e.type==="file")return e.files;if(e.type==="date")return e.valueAsDate}return e.value}},set:e=>t=>e&&(e instanceof HTMLInputElement?e.type==="checkbox"||e.type==="radio"?e.checked=!!t:e.type==="file"?t||(e.value=""):e.type==="date"&&t instanceof Date?e.valueAsDate=t:e.value=String(t):e.value=String(t),e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),e),files:e=>e&&e.files?Array.from(e.files):[],watch:e=>t=>{if(!e)return()=>{};let n=r=>t(d.get(e),r);return e.addEventListener("input",n),()=>e.removeEventListener("input",n)},watchDebounced:e=>(t,n)=>{if(!e)return()=>{};let r=U(s=>t(d.get(e)),n);return e.addEventListener("input",r),()=>e.removeEventListener("input",r)},change:e=>t=>{if(!e)return()=>{};let n=r=>t(d.get(e),r);return e.addEventListener("change",n),()=>e.removeEventListener("change",n)},select:e=>(e==null||e.select(),e),validate:e=>t=>e?(t!==void 0&&e.setCustomValidity(t),e.checkValidity()):!1},st={stop:e=>t=>{t.stopPropagation(),e&&e(t)},prevent:e=>t=>{t.preventDefault(),e&&e(t)},kill:e=>t=>{t.preventDefault(),t.stopPropagation(),e&&e(t)},key:(e,t)=>n=>{(Array.isArray(e)?e:[e]).includes(n.key)&&t(n)},isSelf:e=>e.target===e.currentTarget,pointer:e=>{if("touches"in e){let t=e.touches[0]||e.changedTouches[0];return{x:t.clientX,y:t.clientY}}return{x:e.clientX,y:e.clientY}}},M={is:e=>(t,n)=>m(e)("keydown",r=>{r.key===t&&n(r)}),onTab:e=>t=>m(e)("keydown",n=>{n.key==="Tab"&&t(n)}),onArrow:e=>t=>m(e)("keydown",n=>{if(n.key.startsWith("Arrow")){let r=n.key.replace("Arrow","");t(r,n)}})},h={on:e=>t=>m(e)("focus",t),onBlur:e=>t=>m(e)("blur",t),onIn:e=>t=>m(e)("focusin",t),onOut:e=>t=>m(e)("focusout",t),trap:e=>{if(!e)return()=>{};let t=n=>{if(n.key!=="Tab")return;let r=e.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),s=r[0],o=r[r.length-1];n.shiftKey?document.activeElement===s&&(n.preventDefault(),o.focus()):document.activeElement===o&&(n.preventDefault(),s.focus())};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},S={findAll:(e=document)=>(t,n="*")=>{let r=new Set,s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),o;for(;o=s.nextNode();){let a=o.parentElement,i=o.nodeValue||"";if(!a||!a.matches(n))continue;(typeof t=="string"?i.includes(t):t.test(i))&&r.add(a)}return Array.from(r)},find:(e=document)=>(t,n="*")=>{let r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),s;for(;s=r.nextNode();){let o=s.parentElement,a=s.nodeValue||"";if(!o||!o.matches(n))continue;if(typeof t=="string"?a.includes(t):t.test(a))return o}return null},replace:e=>(t,n)=>{if(!e)return e;let r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),s;for(;s=r.nextNode();){let o=s.nodeValue||"";(typeof t=="string"?o.includes(t):t.test(o))&&(s.nodeValue=o.replace(t,n))}return e}},v={isSupported:()=>"startViewTransition"in document,name:e=>t=>(e&&(e.style.viewTransitionName=t),e),unname:e=>(e&&e.style.removeProperty("view-transition-name"),e),start:e=>"startViewTransition"in document?document.startViewTransition(e):(e(),null),withClass:e=>t=>{document.documentElement.classList.add(e);let n=v.start(t);return n?n.finished.finally(()=>document.documentElement.classList.remove(e)):document.documentElement.classList.remove(e),n},tempName:e=>t=>n=>{if(!e)return v.start(n);e.style.viewTransitionName=t;let r=v.start(n);return r?r.finished.finally(()=>e.style.removeProperty("view-transition-name")):e.style.removeProperty("view-transition-name"),r}},I={resolve:e=>Promise.resolve(e),sleep:e=>new Promise(t=>setTimeout(t,e)),nextFrame:()=>new Promise(e=>requestAnimationFrame(e)),retry:(e,t={})=>{let{retries:n=3,delay:r=100,factor:s=2}=t;return e().catch(o=>{if(n<=0)throw o;return I.sleep(r).then(()=>I.retry(e,{retries:n-1,delay:r*s,factor:s}))})},timeout:(e,t)=>Promise.race([e,new Promise((n,r)=>setTimeout(()=>r(new Error("TimeoutError")),t))]),map:async(e,t,n=1/0)=>{let r=[],s=e.map((a,i)=>({item:a,i})),o=async()=>{for(;s.length>0;){let{item:a,i}=s.shift();r[i]=await t(a,i)}};return await Promise.all(Array.from({length:Math.min(e.length,n)},o)),r},defer:()=>{let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}},cancelable:e=>{let t=!1;return{promise:new Promise((r,s)=>{e.then(o=>!t&&r(o),o=>!t&&s(o))}),cancel:()=>{t=!0}}}},ot=(e={})=>{let t=e.concurrency||1,n=[],r=0,s=!e.autoStart&&e.autoStart!==void 0,o={drain:[],error:[]},a=()=>{if(s||r>=t||n.length===0){r===0&&n.length===0&&o.drain.forEach(l=>l());return}let i=n.shift();i&&(r++,Promise.resolve().then(()=>i.fn()).then(l=>i.resolve(l)).catch(l=>{o.error.forEach(u=>u(l)),i.reject(l)}).finally(()=>{r--,a()}),a())};return{add:i=>new Promise((l,u)=>{n.push({fn:i,resolve:l,reject:u}),a()}),pause:()=>{s=!0},resume:()=>{s=!1,a()},clear:()=>{n.length=0},size:()=>n.length+r,drain:()=>new Promise(i=>{if(r===0&&n.length===0)return i();o.drain.push(i)}),onError:i=>o.error.push(i)}},fe={query:e=>(t="push")=>{let n=new URL(window.location.href);Object.entries(e).forEach(([s,o])=>{n.searchParams.delete(s),!(o==null||o==="")&&(Array.isArray(o)?o.forEach(a=>n.searchParams.append(s,String(a))):n.searchParams.set(s,String(o)))});let r=t==="replace"?"replaceState":"pushState";window.history[r](window.history.state,"",n.href)},readQuery:()=>Object.fromEntries(new URLSearchParams(window.location.search)),readQueryAll:()=>{let e={};return new URLSearchParams(window.location.search).forEach((t,n)=>{(e[n]=e[n]||[]).push(t)}),e},push:(e,t)=>{window.history.pushState(t,"",e)},replace:(e,t)=>{window.history.replaceState(t,"",e)},state:()=>window.history.state,back:()=>window.history.back(),forward:()=>window.history.forward(),reload:()=>window.location.reload(),onPop:e=>(window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)),encodeState:e=>{try{let t=JSON.stringify(e);return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(n,r)=>String.fromCharCode(parseInt(r,16))))}catch(t){return""}},decodeState:e=>{try{let t=decodeURIComponent(Array.prototype.map.call(atob(e),n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(t)}catch(t){return null}},syncToUrl:(e,t=300)=>n=>{if(!n)return()=>{};let r=n.type==="checkbox"||n.type==="radio",s=()=>{let a=new URLSearchParams(window.location.search).get(e);a!==null&&(r?n.checked=a==="true":n.value=a)},o=U(()=>{let a=r?String(n.checked):n.value;fe.query({[e]:a})("replace")},t);return s(),n.addEventListener("input",o),n.addEventListener("change",o),window.addEventListener("popstate",s),()=>{n.removeEventListener("input",o),n.removeEventListener("change",o),window.removeEventListener("popstate",s)}}},it={pipe:(...e)=>t=>e.reduce((n,r)=>r(n),t),curry:e=>t=>n=>e(t,n),swap:e=>t=>n=>e(n)(t),flip:e=>(t,n)=>e(n,t),tap:e=>t=>(e(t),t),maybe:e=>t=>t==null?null:e(t),unbind:e=>(t,n)=>e(n)(t),thunk:(e,...t)=>()=>e(...t),identity:e=>e,noop:()=>{}},g={ok:e=>({ok:!0,val:e,err:null}),err:e=>({ok:!1,val:null,err:e}),try:e=>{try{return g.ok(e())}catch(t){return g.err(t instanceof Error?t:new Error(String(t)))}},async:async e=>{try{let t=await e();return g.ok(t)}catch(t){return g.err(t instanceof Error?t:new Error(String(t)))}},unwrap:e=>{if(e.ok)return e.val;throw e.err},unwrapOr:(e,t)=>e.ok?e.val:t,map:(e,t)=>e.ok?g.ok(t(e.val)):e},at={from:e=>({val:e,isSome:e!=null,isNone:e==null}),unwrapOr:(e,t)=>e!=null?e:t,map:(e,t)=>e!=null?t(e):null,then:(e,t)=>{e!=null&&t(e)}},ut={val:(e,t)=>{let n=e;return r=>{Object.is(n,r)||(n=r,t(r))}},text:e=>{let t;return n=>{e&&t!==n&&(t=n,e.textContent=n)}},html:e=>{let t;return n=>{e&&t!==n&&(t=n,e.innerHTML=n)}},attr:(e,t)=>{let n=r=>{let s;return o=>{!r||s===o||(s=o,o===null||o===!1?r.removeAttribute(e):r.setAttribute(e,String(o)))}};return t!==void 0?n(t):n},toggle:(e,t)=>{let n=r=>{let s;return o=>{!r||s===o||(s=o,r.classList.toggle(e,o))}};return t!==void 0?n(t):n},list:(e,t)=>{let n;return r=>{if(!e||r===n)return;if(n=r,r.length===0){e.firstChild&&e.replaceChildren();return}let s=document.createDocumentFragment();r.forEach((o,a)=>s.appendChild(t(o,a))),e.replaceChildren(s)}}},lt=e=>{let t=document.createElement("template");return t.innerHTML=e.trim(),()=>{let n=document.importNode(t.content,!0),r={};return n.querySelectorAll("[data-ref]").forEach(o=>{let a=o.dataset.ref;a&&(r[a]=o)}),{root:n.children.length===1?n.firstElementChild:n,refs:r}}},ct=(e,t)=>{let n={};for(let r in t)e[r]&&(n[r]=t[r](e[r]));return n},pe=(e,t)=>({...e,...t}),Te=(e,t,n)=>{let r=t?`${t}${e}`:e;if(n){let s=new URLSearchParams;for(let[a,i]of Object.entries(n))i!=null&&s.set(a,String(i));let o=s.toString();o&&(r+=`${r.includes("?")?"&":"?"}${o}`)}return r},Ee=e=>e==null?null:typeof e=="string"||e instanceof Blob||e instanceof FormData||e instanceof ArrayBuffer?e:JSON.stringify(e),ye=async(e,t)=>{let n=e.headers.get("content-type")||"",r;if(n.includes("application/json"))try{r=await e.json()}catch(s){r=await e.text()}else n.includes("text")?r=await e.text():n.includes("image")||n.includes("video")||n.includes("audio")?r=await e.blob():r=await e.arrayBuffer();return t?t(r):r},q=async(e,t,n=0,r=1e3,s=0)=>{let o=new AbortController,a=s>0?setTimeout(()=>o.abort(),s):void 0;try{return await fetch(e,{...t,signal:o.signal})}catch(i){if(a!==void 0&&clearTimeout(a),n>0&&(i instanceof TypeError||i instanceof DOMException))return await new Promise(l=>setTimeout(l,r)),q(e,t,n-1,r,s);throw i}finally{a!==void 0&&clearTimeout(a)}},dt={create:(e={})=>{let{baseURL:t,headers:n,timeout:r=0,retries:s=0,retryDelay:o=1e3,interceptRequest:a,interceptResponse:i}=e,l=async(u,c,R={})=>{let{body:T,baseURL:$=t,params:B,timeout:V=r,retries:W=s,retryDelay:_=o,transform:J,...P}=R,k=pe(n,P.headers);T&&typeof T=="object"&&!Array.isArray(T)&&!(T instanceof FormData)&&(k["Content-Type"]="application/json");let L={...P,method:u,headers:k};if(T!=null&&(L.body=Ee(T)),a){let E=await a(R);L={...L,...E}}let Q=Te(c,$,B),y;try{y=await q(Q,L,W,_,V)}catch(E){let N={ok:!1,status:0,statusText:"Network Error",data:null,error:E instanceof Error?E:new Error(String(E)),response:null};return i?await i(N):N}let A=null;try{A=await ye(y,J)}catch(E){console.error("Failed to parse response:",E)}let C={ok:y.ok,status:y.status,statusText:y.statusText,data:A,error:null,response:y};return i?await i(C):C};return{get:u=>(c={})=>l("GET",u,c),post:u=>(c={})=>l("POST",u,c),put:u=>(c={})=>l("PUT",u,c),delete:u=>(c={})=>l("DELETE",u,c),patch:u=>(c={})=>l("PATCH",u,c),isOk:u=>u.ok,unwrap:u=>{if(!u.ok)throw u.error||new Error(`HTTP ${u.status}: ${u.statusText}`);return u.data},unwrapOr:(u,c)=>u.ok?u.data:c}},get:async(e,t={})=>{let n=await fetch(e,{headers:t});if(!n.ok)throw new Error(`Http.get ${n.status}: ${n.statusText}`);return n.json()},post:e=>t=>async(n={})=>{let r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...n},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Http.post ${r.status}: ${r.statusText}`);return r.json()},put:e=>t=>async(n={})=>{let r=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",...n},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Http.put ${r.status}: ${r.statusText}`);return r.json()},delete:async(e,t={})=>{let n=await fetch(e,{method:"DELETE",headers:t});if(!n.ok)throw new Error(`Http.delete ${n.status}: ${n.statusText}`);return n.json()}};export{Ze as $,tt as $$,I as Async,me as Cookie,Ae as CssVar,p as Data,st as Evt,it as Fn,h as Focus,H as Form,fe as History,dt as Http,d as Input,M as Key,Je as Local,Ie as Obj,at as Option,Me as Params,g as Result,Ge as SW,Qe as Session,ze as Signal,S as Text,b as Traverse,v as ViewTransitions,ee as after,Y as append,De as batch,te as before,ut as bind,ct as binder,We as blur,re as clone,qe as cloneMany,ve as closest,f as cls,et as component,Ce as computed,Ye as createBus,Xe as createListenerGroup,ot as createQueue,F as css,ke as cssTemplate,le as cycleClass,U as debounce,X as dispatch,he as el,K as empty,D as find,G as findAll,Ve as focus,rt as form,Fe as groupBy,Oe as groupRefs,ge as html,xe as htmlMany,Ne as injectStyles,je as instantiate,$e as isVisible,x as modify,Pe as nextFrame,de as offset,m as on,be as onDelegated,Se as onMount,Le as onReady,Z as prepend,ce as rect,ue as refs,O as remove,Be as scrollInto,nt as store,Ue as stripListeners,z as tempStyle,_e as throttle,Ke as toColorSpace,lt as view,Re as wait,He as waitFor,ae as waitTransition,oe as watchAttr,we as watchClass,ie as watchText,ne as wrap};
/**
 * fdom (Functional DOM) - v2.0.0
 * ==========================================
 * A production-grade, target-first, type-safe DOM library.
 *
 * -----------------------------------------------------------------------------
 * ðŸ§  DESIGN PHILOSOPHY
 * -----------------------------------------------------------------------------
 * 1. Target-First: `Action(Element)(Config)` pattern for intuitive chaining.
 * 2. Curried: Functions return closures for composition/piping.
 * 3. Null-Safe: All functions fail gracefully on `null`/`undefined` targets.
 * 4. Type-Safe: Full Generics for HTML Elements, Events, and Return types.
 *
 * -----------------------------------------------------------------------------
 * ðŸ“š API DIRECTORY (27 MODULES)
 * -----------------------------------------------------------------------------
 *
 * ðŸŸ¢ DOM CORE
 *    1. Querying ......... find, findAll, closest
 *    2. Events ........... on, onDelegated, dispatch
 *    3. Manipulation ..... modify, css, tempStyle
 *    4. Structure ........ append, prepend, after, before, remove, wrap
 *    5. Creation ......... el, html, htmlMany, clone
 *
 * ðŸ”µ STATE & ATTRIBUTES
 *    6. Classes .......... cls (add/remove/toggle), watchClass
 *    7. Attributes ....... Data (get/set/read/bind), watchAttr, watchText
 *    12. Objects ......... Obj (clone, isEqual, pick, omit)
 *    14. Refs ............ refs, groupRefs (data-ref handling)
 *    16. Cycling ......... cycleClass (State machines)
 *
 * ðŸŸ¡ LIFECYCLE & OBSERVATION
 *    8. Lifecycle ........ onReady, onMount, waitFor
 *    17. Cleanup ......... stripListeners, instantiate, cloneMany
 *    20. Timing .......... debounce, throttle
 *    25. Groups .......... createListenerGroup (Batch cleanup)
 *    26. Signals ......... Signal (AbortController wrappers)
 *
 * ðŸŸ£ LAYOUT & NAVIGATION
 *    10. Navigation ...... Traverse (parent, children, siblings, next, prev)
 *    11. CSS Utils ....... CssVar, computed, injectStyles, waitTransition
 *    15. Color ........... toColorSpace (Color mix utils)
 *    18. Geometry ........ rect, offset, isVisible
 *    19. Scroll/Focus .... scrollInto, focus, blur
 *
 * ðŸŸ  DATA & NETWORK
 *    9. URL/Form ......... Params, Form (serialize/populate)
 *    13. Collections ..... batch, groupBy
 *    21. Storage ......... Local, Session (Typed wrappers)
 *    22. Cookies ......... Cookie (get/set/remove)
 *    23. Network ......... Http (get/post/put/delete)
 *    24. PWA ............. SW (Service Worker reg/post)
 *    27. Pub/Sub ......... createBus (Typed Event Emitter)
 *
 * @module fdom
 * @author Patrick Glenn
 * @license MIT
 */
