var h=e=>e.flat().filter(n=>n!=null&&n!==!1).map(n=>n instanceof Node?n:document.createTextNode(String(n))),d=e=>{function n(t,...r){return r.length>0?e(t,...r):(...o)=>e(t,...o)}return n};function P(e){if(typeof e=="string"){let t=e;return document.querySelector(t)}let n=e!=null?e:document;return t=>n.querySelector(t)}function Me(e,n=document){let t=n.querySelector(e);if(!t)throw new Error(`Element not found: ${e}`);return t}function U(e){if(typeof e=="string"){let t=e;return Array.from(document.querySelectorAll(t))}let n=e!=null?e:document;return t=>Array.from(n.querySelectorAll(t))}function He(e){if(typeof e=="string"){let t=e;return document.documentElement.closest(t)}let n=e;return t=>n==null?void 0:n.closest(t)}function Re(e){if(typeof e=="string")return document.querySelector(e)!==null;let n=e!=null?e:document;return t=>n.querySelector(t)!==null}function Pe(e){if(!(e instanceof Element)&&e!==null){let t=e;return r=>!t||!r?[]:Array.from(t.children).filter(o=>o!==r)}let n=e;return!n||!n.parentElement?[]:Array.from(n.parentElement.children).filter(t=>t!==n)}function ke(e){if(typeof e=="string")return document.querySelector(e)!==null;let n=e;return t=>n?n.querySelector(t)!==null:!1}function Ae(e){if(!(e instanceof Element)&&e!==null){let t=e;return r=>!t||!r?-1:Array.from(t.children).indexOf(r)}let n=e;return!n||!n.parentElement?-1:Array.from(n.parentElement.children).indexOf(n)}var f=e=>(n,t,r=!1)=>{if(!e)return()=>{};let o=s=>t(s,e);return e.addEventListener(n,o,r),()=>e.removeEventListener(n,o,r)},Ce=(e=document)=>n=>(t,r,o=!1)=>{if(!e)return()=>{};let s=i=>{let a=i.target,u=a.closest?a.closest(n):null;u&&e.contains(u)&&r(i,u)};return e.addEventListener(t,s,o),()=>e.removeEventListener(t,s,o)},Z=e=>(n,t,r={bubbles:!0})=>(e&&e.dispatchEvent(new CustomEvent(n,{detail:t,...r})),e),g=d((e,n)=>e?(n.text!==void 0&&(e.innerText=n.text),n.html!==void 0&&(e.innerHTML=n.html),n.value!==void 0&&(e.value=n.value),n.disabled!==void 0&&(e.disabled=n.disabled),n.style&&Object.assign(e.style,n.style),n.dataset&&Object.entries(n.dataset).forEach(([t,r])=>{r!==void 0&&(e.dataset[t]=r===null?void 0:String(r))}),n.class&&Object.entries(n.class).forEach(([t,r])=>e.classList.toggle(t,!!r)),n.attr&&Object.entries(n.attr).forEach(([t,r])=>{r===!1||r===null||r===void 0?e.removeAttribute(t):e.setAttribute(t,String(r))}),e):null),Ne=g,j=d((e,n)=>(e&&Object.assign(e.style,n),e)),ee=e=>n=>{if(!e)return()=>{};let t={};return Object.keys(n).forEach(r=>{t[r]=e.style[r]}),Object.assign(e.style,n),()=>Object.assign(e.style,t)},ne=d((e,...n)=>(e==null||e.append(...h(n)),e)),te=d((e,...n)=>(e==null||e.prepend(...h(n)),e)),re=d((e,...n)=>(e==null||e.after(...h(n)),e)),oe=d((e,...n)=>(e==null||e.before(...h(n)),e)),$=e=>(e==null||e.remove(),null),B=e=>(e&&e.replaceChildren(),e),se=d((e,n)=>(e&&n&&e.parentNode&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),n)),Ie=d((e,n)=>{if(!n)return()=>{};let t=typeof e=="string"?document.querySelector(e):e;return t?(t.appendChild(n),()=>{n.parentNode===t&&t.removeChild(n)}):()=>{}});function Ke(e,n,t){if(n!==void 0&&t!==void 0){let r=document.createElement(e);return g(r)(n),r.append(...h(t)),r}return(r={})=>(o=[])=>{let s=document.createElement(e);return g(s)(r),s.append(...h(o)),s}}var De=(e,...n)=>{let t=e.reduce((s,i,a)=>{var u;return s+i+((u=n[a])!=null?u:"")},""),r=document.createElement("template");r.innerHTML=t.trim();let o=r.content.firstElementChild;if(!o)throw new Error("html: Template did not result in an element");return o},Fe=(e,...n)=>{let t=e.reduce((o,s,i)=>{var a;return o+s+((a=n[i])!=null?a:"")},""),r=document.createElement("template");return r.innerHTML=t.trim(),r.content},ie=e=>(n=!0)=>e?e.cloneNode(n):null,T={add:d((e,...n)=>(e==null||e.classList.add(...n),e)),remove:d((e,...n)=>(e==null||e.classList.remove(...n),e)),toggle:d((e,n,t)=>(e==null||e.classList.toggle(n,t),e)),replace:d((e,n,t)=>(e==null||e.classList.replace(n,t),e)),has:e=>n=>!!e&&e.classList.contains(n)},qe=d((e,n,t)=>{if(!e)return()=>{};let r=e.classList.contains(n),o=new MutationObserver(()=>{let s=e.classList.contains(n);s!==r&&(r=s,t(s,e))});return o.observe(e,{attributes:!0,attributeFilter:["class"]}),()=>o.disconnect()}),ae=e=>"data-"+e.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),E={get:e=>n=>e==null?void 0:e.dataset[n],set:d((e,n,t)=>e&&(t==null?delete e.dataset[n]:e.dataset[n]=typeof t=="object"?JSON.stringify(t):String(t),e)),read:e=>n=>{if(!e||!(n in(e.dataset||{})))return;let t=e.dataset[n];if(t==="true")return!0;if(t==="false")return!1;if(t==="null")return null;if(!isNaN(Number(t))&&t.trim()!=="")return Number(t);if(t.startsWith("{")||t.startsWith("["))try{return JSON.parse(t)}catch(r){return t}return t},bind:d((e,n,t)=>{if(!e)return()=>{};let r=ae(n),o=()=>t(E.read(e)(n),e);o();let s=new MutationObserver(i=>{i.some(a=>a.attributeName===r)&&o()});return s.observe(e,{attributes:!0,attributeFilter:[r]}),()=>s.disconnect()})},ue=d((e,n,t)=>{if(!e)return()=>{};let r=new MutationObserver(o=>o.forEach(s=>{s.attributeName&&t(e.getAttribute(s.attributeName),s.attributeName)}));return r.observe(e,{attributes:!0,attributeFilter:Array.isArray(n)?n:[n]}),()=>r.disconnect()}),le=d((e,n)=>{if(!e)return()=>{};let t=new MutationObserver(()=>{n(e.textContent||"")});return t.observe(e,{characterData:!0,childList:!0,subtree:!0}),()=>t.disconnect()});function Ue(e){if(typeof e=="string"){let t=e;return document.documentElement.getAttribute(t)}let n=e;return(t,r)=>{if(!n)return r===void 0?null:void 0;if(r===void 0)return n.getAttribute(t);n.setAttribute(t,r)}}function je(e){if(typeof e=="string"){let t=e;return document.documentElement[t]}let n=e;return(t,r)=>{if(n){if(r===void 0)return n[t];n[t]=r}}}var $e=e=>{document.readyState==="complete"||document.readyState==="interactive"?e():document.addEventListener("DOMContentLoaded",e,{once:!0})},Be={dom:()=>new Promise(e=>{document.readyState!=="loading"?e():document.addEventListener("DOMContentLoaded",()=>e(),{once:!0})}),micro:()=>new Promise(e=>queueMicrotask(e)),raf:()=>new Promise(e=>requestAnimationFrame(()=>e()))},Ve=d((e,n,t=document,r=!1)=>{if(!e)return()=>{};let o=new WeakSet,s=!1,i=u=>{o.has(u)||(u.matches(e)&&(o.add(u),n(u),s=!0),u.querySelectorAll(e).forEach(l=>{o.has(l)||(o.add(l),n(l),s=!0)}))};t.querySelectorAll(e).forEach(i);let a=new MutationObserver(u=>u.forEach(l=>{l.addedNodes.forEach(c=>{c.nodeType===1&&i(c)})}));return r&&s?()=>{}:(a.observe(t,{childList:!0,subtree:!0}),()=>a.disconnect())}),We=d((e,n)=>new Promise(t=>{if(!e)return;if(n(e))return t(e);let r=new MutationObserver(()=>{n(e)&&(r.disconnect(),t(e))});r.observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0})})),_e={get:e=>new URLSearchParams(window.location.search).get(e),getAll:e=>new URLSearchParams(window.location.search).getAll(e),set:e=>n=>(t="soft")=>{let r=new URL(window.location.href);r.searchParams.set(e,n),t==="hard"?window.location.href=r.href:window.history.pushState(null,"",r.href)}},k={serialize:e=>{let n={};return e&&e.querySelectorAll("input, select, textarea").forEach(t=>{t.name&&(t.type==="checkbox"?n[t.name]=t.checked:t.type==="radio"?t.checked&&(n[t.name]=t.value):t.type==="number"?n[t.name]=Number(t.value):n[t.name]=t.value)}),n},populate:d((e,n)=>e&&(Object.entries(n).forEach(([t,r])=>{let o=e.querySelector(`[name="${t}"]`);o&&(o.type==="checkbox"||o.type==="radio"?o.checked=!!r:o.value=String(r))}),e))},Ge=e=>new Promise(n=>setTimeout(n,e)),Je=()=>new Promise(e=>requestAnimationFrame(e)),Qe=(e,...n)=>e.reduce((t,r,o)=>{var s;return t+r+((s=n[o])!=null?s:"")},""),w={parent(e){if(typeof e=="string"){let t=document.querySelector(e);return(t==null?void 0:t.parentElement)||null}let n=e!=null?e:null;return t=>{var o;let r=(o=n==null?void 0:n.parentElement)!=null?o:null;return r&&(!t||r.matches(t))?r:null}},next(e){if(typeof e=="string"){let t=document.querySelector(e);return(t==null?void 0:t.nextElementSibling)||null}let n=e!=null?e:null;return t=>{var o;let r=(o=n==null?void 0:n.nextElementSibling)!=null?o:null;return!t||!r||r.matches(t)?r:null}},prev(e){if(typeof e=="string"){let t=document.querySelector(e);return(t==null?void 0:t.previousElementSibling)||null}let n=e!=null?e:null;return t=>{var o;let r=(o=n==null?void 0:n.previousElementSibling)!=null?o:null;return!t||!r||r.matches(t)?r:null}},children(e){if(typeof e=="string"){let t=document.querySelector(e);return t?Array.from(t.children):[]}let n=e!=null?e:null;return t=>{if(!n)return[];let r=Array.from(n.children);return t?r.filter(o=>o.matches(t)):r}},siblings(e){if(typeof e=="string"){let t=document.querySelector(e);return t!=null&&t.parentElement?Array.from(t.parentElement.children).filter(r=>r!==t):[]}let n=e!=null?e:null;return t=>{if(!(n!=null&&n.parentElement))return[];let r=Array.from(n.parentElement.children).filter(o=>o!==n);return t?r.filter(o=>o.matches(t)):r}},parents(e,n){var s;let t=typeof e=="string"?document.querySelector(e):e!=null?e:null,r=[],o=(s=t==null?void 0:t.parentElement)!=null?s:null;for(;o&&!(typeof n=="string"&&o.matches(n)||typeof n=="function"&&n(o));)r.push(o),o=o.parentElement;return r},nextAll(e,n){var s;let t=typeof e=="string"?document.querySelector(e):e!=null?e:null,r=[],o=(s=t==null?void 0:t.nextElementSibling)!=null?s:null;for(;o;)(!n||o.matches(n))&&r.push(o),o=o.nextElementSibling;return r},prevAll(e,n){var s;let t=typeof e=="string"?document.querySelector(e):e!=null?e:null,r=[],o=(s=t==null?void 0:t.previousElementSibling)!=null?s:null;for(;o;)(!n||o.matches(n))&&r.push(o),o=o.previousElementSibling;return r},closestAll(e,n){let t=typeof e=="string"?document.querySelector(e):e!=null?e:null,r=[],o=t;for(;o;)(!n||o.matches(n))&&r.push(o),o=o.parentElement;return r}},ze={set:e=>(n,t)=>(e==null||e.style.setProperty(n,t),e),get:e=>n=>e?getComputedStyle(e).getPropertyValue(n).trim():""},Xe=e=>n=>{if(!e)return"";let t=getComputedStyle(e)[n];return typeof t=="string"?t:String(t)},Ye=(e,n=document.head)=>{let t=document.createElement("style");return t.textContent=e,n.appendChild(t),()=>t.remove()},ce=e=>new Promise(n=>{if(!e)return n(null);let t=!1,r,o=()=>{t||(t=!0,r!==void 0&&clearTimeout(r),e.removeEventListener("transitionend",o),e.removeEventListener("animationend",o),n(e))};e.addEventListener("transitionend",o),e.addEventListener("animationend",o),requestAnimationFrame(()=>{let s=getComputedStyle(e),i=parseFloat(s.transitionDuration)*1e3,a=parseFloat(s.animationDuration)*1e3,u=Math.max(i,a);u===0?o():r=setTimeout(o,u+50)})}),Oe={clone:e=>{try{return structuredClone(e)}catch(n){return JSON.parse(JSON.stringify(e))}},isEqual:(e,n)=>e===n||JSON.stringify(e)===JSON.stringify(n),pick:(e,n)=>{let t={};return n.forEach(r=>{r in e&&(t[r]=e[r])}),t},omit:(e,n)=>{let t={...e};return n.forEach(r=>delete t[r]),t}},Ze=e=>n=>{if(!e)return[];let t=Array.from(e);return t.forEach(n),t},en=e=>n=>{let t={};return e&&Array.from(e).forEach(r=>{let o=n(r);(t[o]=t[o]||[]).push(r)}),t},V=e=>{let n={};return e&&e.querySelectorAll("[data-ref]").forEach(t=>{t.dataset.ref&&(n[t.dataset.ref]=t)}),n},de=e=>{let n={};return e&&e.querySelectorAll("[data-ref]").forEach(t=>{let r=t.dataset.ref;r&&(n[r]=n[r]||[]).push(t)}),n},nn=(e,n="srgb")=>{let t=document.createElement("div");t.style.color=`color-mix(in ${n}, ${e} 100%, transparent)`,document.body.appendChild(t);let r=getComputedStyle(t).color;return t.remove(),r},me=e=>n=>e?()=>{let t=n.findIndex(o=>e.classList.contains(o));t>-1&&e.classList.remove(n[t]);let r=(t+1)%n.length;e.classList.add(n[r])}:()=>{},tn=e=>{if(!e||!e.parentNode)return e;let n=e.cloneNode(!0);return e.replaceWith(n),n},rn=e=>(n={})=>{let t=typeof e=="string"?document.querySelector(e):e;if(!t||!("content"in t))throw new Error(`instantiate: Invalid template '${e}'`);let r=t.content.cloneNode(!0);return Object.keys(n).length>0&&r.firstElementChild&&g(r.firstElementChild)(n),r},on=e=>n=>e?Array.from({length:n}).map(()=>e.cloneNode(!0)):[],fe=e=>e?e.getBoundingClientRect():new DOMRect(0,0,0,0),pe=e=>{if(!e)return{top:0,left:0};let n=e.getBoundingClientRect(),t=document.documentElement;return{top:n.top+window.scrollY-t.clientTop,left:n.left+window.scrollX-t.clientLeft}},sn=e=>!!(e&&(e.offsetWidth>0||e.offsetHeight>0)),an=e=>(n={behavior:"smooth",block:"start"})=>(e==null||e.scrollIntoView(n),e),un=e=>n=>(e==null||e.focus(n),e),ln=e=>(e==null||e.blur(),e),W=(e,n)=>{let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>e(...r),n)}},cn=(e,n)=>{let t=0;return(...r)=>{let o=Date.now();o-t>=n&&(e(...r),t=o)}},_=e=>({get:n=>{let t=e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch(r){return t}},set:n=>t=>{let r=typeof t=="object"?JSON.stringify(t):String(t);e.setItem(n,r)},remove:n=>e.removeItem(n),clear:()=>e.clear()}),dn=_(window.localStorage),mn=_(window.sessionStorage),Ee={get:e=>{let n=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return n?decodeURIComponent(n[2]):null},set:e=>n=>(t={})=>{let r=new Date;r.setTime(r.getTime()+24*60*60*1e3*(t.days||0)),document.cookie=`${e}=${encodeURIComponent(n)};path=${t.path||"/"}`+(t.days?`;expires=${r.toUTCString()}`:"")+(t.secure?";secure":"")},remove:e=>{Ee.set(e)("")({days:-1})}},fn={register:async(e,n)=>{if("serviceWorker"in navigator)try{return await navigator.serviceWorker.register(e,n)}catch(t){return null}return null},post:e=>{navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(e)}},Te=()=>{let e=[];return{add:n=>{e.push(n)},clear:()=>{e.forEach(n=>n()),e.length=0}}},pn={create:()=>{let e=new AbortController;return{signal:e.signal,abort:()=>e.abort()}},timeout:e=>{if("timeout"in AbortSignal)return AbortSignal.timeout(e);let n=new AbortController;return setTimeout(()=>n.abort(),e),n.signal},wrap:(e,n)=>n?n.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((t,r)=>{let o=()=>{r(new DOMException("Aborted","AbortError")),n.removeEventListener("abort",o)};n.addEventListener("abort",o),e.then(s=>{n.removeEventListener("abort",o),t(s)},s=>{n.removeEventListener("abort",o),r(s)})}):e},En=()=>{let e=new EventTarget;return{on:(n,t)=>{let r=o=>t(o.detail);return e.addEventListener(n,r),()=>e.removeEventListener(n,r)},emit:(n,t)=>{e.dispatchEvent(new CustomEvent(n,{detail:t}))},once:(n,t)=>{let r=o=>t(o.detail);e.addEventListener(n,r,{once:!0})}}},Tn=e=>{let n=r=>(...o)=>(e&&r(e)(...o),t),t={raw:e,on:n(f),dispatch:n(Z),modify:n(g),css:n(j),tempStyle:(r,o)=>{if(e){let s=ee(e)(r);o&&setTimeout(s,o)}return t},append:n(ne),prepend:n(te),after:n(re),before:n(oe),remove:()=>{e&&$(e)},empty:()=>(e&&B(e),t),wrap:n(se),clone:()=>e?ie(e):null,addClass:n(T.add),removeClass:n(T.remove),toggleClass:n(T.toggle),replaceClass:n(T.replace),hasClass:r=>e?T.has(e)(r):!1,cycleClass:n(me),dataGet:r=>e?E.get(e)(r):void 0,dataSet:n(E.set),dataRead:r=>e?E.read(e)(r):void 0,dataBind:(r,o)=>e?E.bind(e)(r,o):()=>{},watchAttr:(r,o)=>e?ue(e)(r,o):()=>{},watchText:r=>e?le(e)(r):()=>{},val:r=>r===void 0?m.get(e):(m.set(e)(r),t),files:()=>m.files(e),onInput:r=>e?m.watch(e)(r):()=>{},onInputDebounced:(r,o)=>e?m.watchDebounced(e)(o,r):()=>{},onChange:r=>e?m.change(e)(r):()=>{},selectText:()=>(m.select(e),t),validate:()=>e?m.validate(e):!1,onKey:(r,o)=>(e&&A.is(e)(r,o),t),onTab:r=>(e&&A.onTab(e)(r),t),onArrow:r=>(e&&A.onArrow(e)(r),t),onFocus:r=>(e&&L.on(e)(r),t),onBlur:r=>(e&&L.onBlur(e)(r),t),onFocusIn:r=>(e&&L.onIn(e)(r),t),onFocusOut:r=>(e&&L.onOut(e)(r),t),trapFocus:()=>L.trap(e),clickOutside:r=>{if(!e)return()=>{};let o=s=>{e&&!e.contains(s.target)&&r()};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)},hasText:r=>e?!!R.find(e)(r):!1,findText:(r,o)=>e?R.find(e)(r,o):null,findAllText:(r,o)=>e?R.findAll(e)(r,o):[],replaceText:(r,o)=>(e&&R.replace(e)(r,o),t),transitionName:n(v.name),removeTransitionName:()=>(v.unname(e),t),transitionWith:(r,o)=>v.tempName(e)(r)(o),parent:w.parent(e),next:w.next(e),prev:w.prev(e),children:w.children(e),siblings:w.siblings(e),rect:()=>fe(e),offset:()=>pe(e),scrollInto:r=>(e==null||e.scrollIntoView(r),t),focus:r=>(e==null||e.focus(r),t),blur:()=>(e==null||e.blur(),t),waitTransition:()=>ce(e)};return t},yn=e=>{let n=typeof e=="string"?P(document)(e):e;if(!n)return{};let t=V(n);return{root:n,...t}},gn=e=>{let n=typeof e=="string"?U(document)(e):Array.from(e),t=o=>(s,i)=>(n.forEach(a=>o(a)(s,i)),r),r={raw:n,modify:t(g),css:t(j),addClass:t(T.add),removeClass:t(T.remove),toggleClass:t(T.toggle),attr:t(o=>s=>g(o)({attr:s})),on:(o,s)=>{let i=n.map(a=>f(a)(o,s));return()=>i.forEach(a=>a())},remove:()=>n.forEach(o=>$(o)),empty:()=>n.forEach(o=>B(o)),map:o=>n.map(o),filter:o=>n.filter(o)};return r},ye=e=>{if(!e)return new EventTarget;let n=new EventTarget;return new Proxy(n,{get:(t,r)=>{if(r in t){let o=t[r];return typeof o=="function"?o.bind(t):o}return E.read(e)(String(r))},set:(t,r,o)=>(r in t||(E.set(e)(String(r),o),t.dispatchEvent(new CustomEvent(String(r),{detail:o})),t.dispatchEvent(new CustomEvent("change",{detail:{prop:r,value:o}}))),!0),deleteProperty:(t,r)=>r in t?!1:(E.set(e)(String(r),null),t.dispatchEvent(new CustomEvent(String(r),{detail:null})),t.dispatchEvent(new CustomEvent("change",{detail:{prop:r,value:null}})),!0),ownKeys:()=>Reflect.ownKeys(e.dataset),getOwnPropertyDescriptor:(t,r)=>({enumerable:!0,configurable:!0})})},bn=e=>{let n=typeof e=="string"?P(document)(e):e;return{raw:n,values:()=>k.serialize(n),set:t=>k.populate(n)(t),clear:()=>{n&&n.querySelectorAll("input, select, textarea").forEach(t=>{t.type==="checkbox"||t.type==="radio"?t.checked=!1:t.value=""})},submit:t=>f(n)("submit",r=>{r.preventDefault(),t(k.serialize(n),r)})}},m={get:e=>{if(e){if(e instanceof HTMLInputElement){if(e.type==="checkbox"||e.type==="radio")return e.checked;if(e.type==="number"||e.type==="range")return e.valueAsNumber;if(e.type==="file")return e.files;if(e.type==="date")return e.valueAsDate}return e.value}},set:e=>n=>e&&(e instanceof HTMLInputElement?e.type==="checkbox"||e.type==="radio"?e.checked=!!n:e.type==="file"?n||(e.value=""):e.type==="date"&&n instanceof Date?e.valueAsDate=n:e.value=String(n):e.value=String(n),e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),e),files:e=>e&&e.files?Array.from(e.files):[],watch:e=>n=>{if(!e)return()=>{};let t=r=>n(m.get(e),r);return e.addEventListener("input",t),()=>e.removeEventListener("input",t)},watchDebounced:e=>(n,t)=>{if(!e)return()=>{};let r=W(o=>n(m.get(e)),t);return e.addEventListener("input",r),()=>e.removeEventListener("input",r)},change:e=>n=>{if(!e)return()=>{};let t=r=>n(m.get(e),r);return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},select:e=>(e==null||e.select(),e),validate:e=>n=>e?(n!==void 0&&e.setCustomValidity(n),e.checkValidity()):!1},vn={stop:e=>n=>{n.stopPropagation(),e&&e(n)},prevent:e=>n=>{n.preventDefault(),e&&e(n)},kill:e=>n=>{n.preventDefault(),n.stopPropagation(),e&&e(n)},key:(e,n)=>t=>{(Array.isArray(e)?e:[e]).includes(t.key)&&n(t)},isSelf:e=>e.target===e.currentTarget,pointer:e=>{if("touches"in e){let n=e.touches[0]||e.changedTouches[0];return{x:n.clientX,y:n.clientY}}return{x:e.clientX,y:e.clientY}}},A={is:e=>(n,t)=>f(e)("keydown",r=>{r.key===n&&t(r)}),onTab:e=>n=>f(e)("keydown",t=>{t.key==="Tab"&&n(t)}),onArrow:e=>n=>f(e)("keydown",t=>{if(t.key.startsWith("Arrow")){let r=t.key.replace("Arrow","");n(r,t)}})},L={on:e=>n=>f(e)("focus",n),onBlur:e=>n=>f(e)("blur",n),onIn:e=>n=>f(e)("focusin",n),onOut:e=>n=>f(e)("focusout",n),trap:e=>{if(!e)return()=>{};let n=t=>{if(t.key!=="Tab")return;let r=e.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),o=r[0],s=r[r.length-1];t.shiftKey?document.activeElement===o&&(t.preventDefault(),s.focus()):document.activeElement===s&&(t.preventDefault(),o.focus())};return e.addEventListener("keydown",n),()=>e.removeEventListener("keydown",n)}},R={findAll:(e=document)=>(n,t="*")=>{let r=new Set,o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),s;for(;s=o.nextNode();){let i=s.parentElement,a=s.nodeValue||"";if(!i||!i.matches(t))continue;(typeof n=="string"?a.includes(n):n.test(a))&&r.add(i)}return Array.from(r)},find:(e=document)=>(n,t="*")=>{let r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),o;for(;o=r.nextNode();){let s=o.parentElement,i=o.nodeValue||"";if(!s||!s.matches(t))continue;if(typeof n=="string"?i.includes(n):n.test(i))return s}return null},replace:e=>(n,t)=>{if(!e)return e;let r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),o;for(;o=r.nextNode();){let s=o.nodeValue||"";(typeof n=="string"?s.includes(n):n.test(s))&&(o.nodeValue=s.replace(n,t))}return e}},v={isSupported:()=>"startViewTransition"in document,name:e=>n=>(e&&(e.style.viewTransitionName=n),e),unname:e=>(e&&e.style.removeProperty("view-transition-name"),e),start:e=>"startViewTransition"in document?document.startViewTransition(e):(e(),null),withClass:e=>n=>{document.documentElement.classList.add(e);let t=v.start(n);return t?t.finished.finally(()=>document.documentElement.classList.remove(e)):document.documentElement.classList.remove(e),t},tempName:e=>n=>t=>{if(!e)return v.start(t);e.style.viewTransitionName=n;let r=v.start(t);return r?r.finished.finally(()=>e.style.removeProperty("view-transition-name")):e.style.removeProperty("view-transition-name"),r}},F={resolve:e=>Promise.resolve(e),sleep:e=>new Promise(n=>setTimeout(n,e)),nextFrame:()=>new Promise(e=>requestAnimationFrame(e)),retry:(e,n={})=>{let{retries:t=3,delay:r=100,factor:o=2}=n;return e().catch(s=>{if(t<=0)throw s;return F.sleep(r).then(()=>F.retry(e,{retries:t-1,delay:r*o,factor:o}))})},timeout:(e,n)=>Promise.race([e,new Promise((t,r)=>setTimeout(()=>r(new Error("TimeoutError")),n))]),map:async(e,n,t=1/0)=>{let r=[],o=e.map((i,a)=>({item:i,i:a})),s=async()=>{for(;o.length>0;){let{item:i,i:a}=o.shift();r[a]=await n(i,a)}};return await Promise.all(Array.from({length:Math.min(e.length,t)},s)),r},defer:()=>{let e,n;return{promise:new Promise((r,o)=>{e=r,n=o}),resolve:e,reject:n}},cancelable:e=>{let n=!1;return{promise:new Promise((r,o)=>{e.then(s=>!n&&r(s),s=>!n&&o(s))}),cancel:()=>{n=!0}}}},hn=(e={})=>{let n=e.concurrency||1,t=[],r=0,o=!e.autoStart&&e.autoStart!==void 0,s={drain:[],error:[]},i=()=>{if(o||r>=n||t.length===0){r===0&&t.length===0&&s.drain.forEach(u=>u());return}let a=t.shift();a&&(r++,Promise.resolve().then(()=>a.fn()).then(u=>a.resolve(u)).catch(u=>{s.error.forEach(l=>l(u)),a.reject(u)}).finally(()=>{r--,i()}),i())};return{add:a=>new Promise((u,l)=>{t.push({fn:a,resolve:u,reject:l}),i()}),pause:()=>{o=!0},resume:()=>{o=!1,i()},clear:()=>{t.length=0},size:()=>t.length+r,drain:()=>new Promise(a=>{if(r===0&&t.length===0)return a();s.drain.push(a)}),onError:a=>s.error.push(a)}},ge={query:e=>(n="push")=>{let t=new URL(window.location.href);Object.entries(e).forEach(([o,s])=>{t.searchParams.delete(o),!(s==null||s==="")&&(Array.isArray(s)?s.forEach(i=>t.searchParams.append(o,String(i))):t.searchParams.set(o,String(s)))});let r=n==="replace"?"replaceState":"pushState";window.history[r](window.history.state,"",t.href)},readQuery:()=>Object.fromEntries(new URLSearchParams(window.location.search)),readQueryAll:()=>{let e={};return new URLSearchParams(window.location.search).forEach((n,t)=>{(e[t]=e[t]||[]).push(n)}),e},push:(e,n)=>{window.history.pushState(n,"",e)},replace:(e,n)=>{window.history.replaceState(n,"",e)},state:()=>window.history.state,back:()=>window.history.back(),forward:()=>window.history.forward(),reload:()=>window.location.reload(),onPop:e=>(window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)),encodeState:e=>{try{let n=JSON.stringify(e);return btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,(t,r)=>String.fromCharCode(parseInt(r,16))))}catch(n){return""}},decodeState:e=>{try{let n=decodeURIComponent(Array.prototype.map.call(atob(e),t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(n)}catch(n){return null}},syncToUrl:(e,n=300)=>t=>{if(!t)return()=>{};let r=t.type==="checkbox"||t.type==="radio",o=()=>{let i=new URLSearchParams(window.location.search).get(e);i!==null&&(r?t.checked=i==="true":t.value=i)},s=W(()=>{let i=r?String(t.checked):t.value;ge.query({[e]:i})("replace")},n);return o(),t.addEventListener("input",s),t.addEventListener("change",s),window.addEventListener("popstate",o),()=>{t.removeEventListener("input",s),t.removeEventListener("change",s),window.removeEventListener("popstate",o)}}},xn={pipe:(...e)=>n=>e.reduce((t,r)=>r(t),n),curry:e=>n=>t=>e(n,t),swap:e=>n=>t=>e(t)(n),flip:e=>(n,t)=>e(t,n),tap:e=>n=>(e(n),n),maybe:e=>n=>n==null?null:e(n),unbind:e=>(n,t)=>e(t)(n),thunk:(e,...n)=>()=>e(...n),identity:e=>e,noop:()=>{}},S={ok:e=>({ok:!0,val:e,err:null}),err:e=>({ok:!1,val:null,err:e}),try:e=>{try{return S.ok(e())}catch(n){return S.err(n instanceof Error?n:new Error(String(n)))}},async:async e=>{try{let n=await e();return S.ok(n)}catch(n){return S.err(n instanceof Error?n:new Error(String(n)))}},unwrap:e=>{if(e.ok)return e.val;throw e.err},unwrapOr:(e,n)=>e.ok?e.val:n,map:(e,n)=>e.ok?S.ok(n(e.val)):e},wn={from:e=>({val:e,isSome:e!=null,isNone:e==null}),unwrapOr:(e,n)=>e!=null?e:n,map:(e,n)=>e!=null?n(e):null,then:(e,n)=>{e!=null&&n(e)}},Ln={val:(e,n)=>{let t=e;return r=>{Object.is(t,r)||(t=r,n(r))}},text:e=>{let n;return t=>{e&&n!==t&&(n=t,e.textContent=t)}},html:e=>{let n;return t=>{e&&n!==t&&(n=t,e.innerHTML=t)}},attr:(e,n)=>{let t=r=>{let o;return s=>{!r||o===s||(o=s,s===null||s===!1?r.removeAttribute(e):r.setAttribute(e,String(s)))}};return n!==void 0?t(n):t},toggle:(e,n)=>{let t=r=>{let o;return s=>{!r||o===s||(o=s,r.classList.toggle(e,s))}};return n!==void 0?t(n):t},list:(e,n)=>{let t;return r=>{if(!e||r===t)return;if(t=r,r.length===0){e.firstChild&&e.replaceChildren();return}let o=document.createDocumentFragment();r.forEach((s,i)=>o.appendChild(n(s,i))),e.replaceChildren(o)}},style:(e,n)=>{let t;return r=>{!e||t===r||(t=String(r),e.style[n]=t)}},cssVar:(e,n)=>{let t;return r=>{!e||t===r||(t=String(r),e.style.setProperty(n,t))}}},Sn=e=>{let n={...e},t=new Set;return{get:()=>n,set:r=>{let o=typeof r=="function"?r(n):r;n={...n,...o},t.forEach(s=>s(n))},subscribe:r=>(t.add(r),r(n),()=>t.delete(r))}};function be(e,n){let t=r=>{let o=[];return Object.entries(r).forEach(([s,i])=>{let a=e[s];a&&Object.entries(i).forEach(([u,l])=>{o.push(f(a)(u,c=>l(c,a)))})}),()=>o.forEach(s=>s())};return n!==void 0?t(n):r=>t(r)}var Mn=e=>{let n=document.createElement("template");return n.innerHTML=e.trim(),()=>{let t=document.importNode(n.content,!0),r={};return t.querySelectorAll("[data-ref]").forEach(s=>{let i=s.dataset.ref;i&&(r[i]=s)}),{root:t.children.length===1?t.firstElementChild:t,refs:r}}};function ve(e,n){let t=r=>{let o={};for(let s in r)e[s]&&(o[s]=r[s](e[s]));return o};return n!==void 0?t(n):r=>t(r)}function Hn(e,n){let t=r=>{for(let o in r){let s=r[o];if(s!==void 0){let i=e[o];i&&i(s)}}};return n!==void 0?t(n):r=>t(r)}var he=(e,n)=>({...e,...n}),xe=(e,n,t)=>{let r=n?`${n}${e}`:e;if(t){let o=new URLSearchParams;for(let[i,a]of Object.entries(t))a!=null&&o.set(i,String(a));let s=o.toString();s&&(r+=`${r.includes("?")?"&":"?"}${s}`)}return r},we=e=>e==null?null:typeof e=="string"||e instanceof Blob||e instanceof FormData||e instanceof ArrayBuffer?e:JSON.stringify(e),Le=async(e,n)=>{let t=e.headers.get("content-type")||"",r;if(t.includes("application/json"))try{r=await e.json()}catch(o){r=await e.text()}else t.includes("text")?r=await e.text():t.includes("image")||t.includes("video")||t.includes("audio")?r=await e.blob():r=await e.arrayBuffer();return n?n(r):r},G=async(e,n,t=0,r=1e3,o=0)=>{let s=new AbortController,i=o>0?setTimeout(()=>s.abort(),o):void 0;try{return await fetch(e,{...n,signal:s.signal})}catch(a){if(i!==void 0&&clearTimeout(i),t>0&&(a instanceof TypeError||a instanceof DOMException))return await new Promise(u=>setTimeout(u,r)),G(e,n,t-1,r,o);throw a}finally{i!==void 0&&clearTimeout(i)}},Rn={create:(e={})=>{let{baseURL:n,headers:t,timeout:r=0,retries:o=0,retryDelay:s=1e3,interceptRequest:i,interceptResponse:a}=e,u=async(l,c,x={})=>{let{body:p,baseURL:M=n,params:J,timeout:Q=r,retries:z=o,retryDelay:X=s,transform:Y,...C}=x,N=he(t,C.headers);p&&typeof p=="object"&&!Array.isArray(p)&&!(p instanceof FormData)&&(N["Content-Type"]="application/json");let H={...C,method:l,headers:N};if(p!=null&&(H.body=we(p)),i){let y=await i(x);H={...H,...y}}let O=xe(c,M,J),b;try{b=await G(O,H,z,X,Q)}catch(y){let D={ok:!1,status:0,statusText:"Network Error",data:null,error:y instanceof Error?y:new Error(String(y)),response:null};return a?await a(D):D}let I=null;try{I=await Le(b,Y)}catch(y){console.error("Failed to parse response:",y)}let K={ok:b.ok,status:b.status,statusText:b.statusText,data:I,error:null,response:b};return a?await a(K):K};return{get:l=>(c={})=>u("GET",l,c),post:l=>(c={})=>u("POST",l,c),put:l=>(c={})=>u("PUT",l,c),delete:l=>(c={})=>u("DELETE",l,c),patch:l=>(c={})=>u("PATCH",l,c),isOk:l=>l.ok,unwrap:l=>{if(!l.ok)throw l.error||new Error(`HTTP ${l.status}: ${l.statusText}`);return l.data},unwrapOr:(l,c)=>l.ok?l.data:c}},get:async(e,n={})=>{let t=await fetch(e,{headers:n});if(!t.ok)throw new Error(`Http.get ${t.status}: ${t.statusText}`);return t.json()},post:e=>n=>async(t={})=>{let r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(n)});if(!r.ok)throw new Error(`Http.post ${r.status}: ${r.statusText}`);return r.json()},put:e=>n=>async(t={})=>{let r=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(n)});if(!r.ok)throw new Error(`Http.put ${r.status}: ${r.statusText}`);return r.json()},delete:async(e,n={})=>{let t=await fetch(e,{method:"DELETE",headers:n});if(!t.ok)throw new Error(`Http.delete ${t.status}: ${t.statusText}`);return t.json()}};function Pn(e){return n=>n&&n.matches(e)?n:null}function kn(e){return e instanceof Element}function An(e){return n=>!!n&&n.tagName.toLowerCase()===e.toLowerCase()}function Cn(e){if(typeof e=="string"){let t=document.querySelector(e);return t?q(t,{}):!1}let n=e!=null?e:null;return t=>n?q(n,t!=null?t:{}):!1}function q(e,{partial:n=!1,threshold:t,root:r=null,margin:o}){let s=e.getBoundingClientRect(),i=Se(o),a=r?r.getBoundingClientRect():{top:0,left:0,right:window.innerWidth,bottom:window.innerHeight},u={top:a.top+i.top,left:a.left+i.left,right:a.right-i.right,bottom:a.bottom-i.bottom},l=s.width*s.height;if(l===0)return!1;let c={top:Math.max(s.top,u.top),left:Math.max(s.left,u.left),right:Math.min(s.right,u.right),bottom:Math.min(s.bottom,u.bottom)},x=c.right-c.left,p=c.bottom-c.top;if(x<=0||p<=0)return!1;let M=x*p;return typeof t=="number"?M/l>=t:n?M>0:s.top>=u.top&&s.left>=u.left&&s.right<=u.right&&s.bottom<=u.bottom}function Se(e){if(!e)return{top:0,left:0,right:0,bottom:0};let n=e.split(/\s+/).map(t=>parseInt(t,10)||0);switch(n.length){case 1:return{top:n[0],right:n[0],bottom:n[0],left:n[0]};case 2:return{top:n[0],right:n[1],bottom:n[0],left:n[1]};case 3:return{top:n[0],right:n[1],bottom:n[2],left:n[1]};case 4:default:return{top:n[0],right:n[1],bottom:n[2],left:n[3]}}}function Nn(e){if(typeof e=="string"){let t=document.querySelector(e);return(r,o)=>t?t.animate(r,o).finished:Promise.resolve()}let n=e!=null?e:null;return(t,r)=>n?n.animate(t,r).finished:Promise.resolve()}function In(e){let n=document.createElement("template");n.innerHTML=e;let t=["script","iframe","object","embed"];return n.content.querySelectorAll(t.join(",")).forEach(r=>r.remove()),n.content.querySelectorAll("*").forEach(r=>{let o=r.getAttributeNames();for(let s of o)(s.startsWith("on")||(s==="href"||s==="src")&&(r.getAttribute(s)||"").toLowerCase().trim().startsWith("javascript:"))&&r.removeAttribute(s)}),n.innerHTML}function Kn(e){let n=document.createElement("template");return n.innerHTML=e,n.content.textContent||""}var Dn=(e,n)=>{let t=typeof e=="string"?P(document)(e):e;if(!t)return null;let r=Te(),o=V(t),s=de(t),i={root:t,refs:o,groups:s,state:ye(t),find:P(t),findAll:U(t),binder:u=>ve(o,u),bindEvents:u=>{r.add(be(o,u))},watch:(u,l)=>{r.add(E.bind(t)(u,l))},effect:u=>r.add(u)};return{...n(i)||{},root:t,destroy:()=>r.clear()}},Fn=(e,n,t,r)=>{let{root:o}=e(),s=o instanceof DocumentFragment?o.firstElementChild:o;t.appendChild(o);let i=n(s);if(!i)throw s.remove(),new Error("Failed to init component");return{...i,destroy:()=>{i.destroy(),s.remove()}}};export{Tn as $,gn as $$,F as Async,Ee as Cookie,ze as CssVar,E as Data,vn as Evt,xn as Fn,L as Focus,k as Form,ge as History,Rn as Http,m as Input,A as Key,dn as Local,Oe as Obj,wn as Option,_e as Params,S as Result,fn as SW,mn as Session,pn as Signal,R as Text,w as Traverse,v as ViewTransitions,re as after,Nn as animate,ne as append,Hn as apply,Ue as attr,Ze as batch,oe as before,Ln as bind,be as bindEvents,ve as binder,ln as blur,Pn as cast,ie as clone,on as cloneMany,He as closest,T as cls,yn as component,Xe as computed,En as createBus,Te as createListenerGroup,hn as createQueue,Sn as createStore,j as css,Qe as cssTemplate,me as cycleClass,W as debounce,d as def,Dn as defineComponent,Z as dispatch,Ke as el,B as empty,Re as exists,P as find,U as findAll,un as focus,bn as form,en as groupBy,de as groupRefs,ke as has,De as html,Fe as htmlMany,Ae as index,Ye as injectStyles,rn as instantiate,kn as isElement,Cn as isInViewport,An as isTag,sn as isVisible,g as modify,Ie as mount,Fn as mountComponent,Je as nextFrame,pe as offset,f as on,Ce as onDelegated,Ve as onMount,$e as onReady,te as prepend,je as prop,Be as ready,fe as rect,V as refs,$ as remove,Me as require,In as sanitizeHTMLSimple,Kn as sanitizeHTMLTextOnly,an as scrollInto,Ne as set,Pe as siblings,ye as store,tn as stripListeners,ee as tempStyle,cn as throttle,nn as toColorSpace,Mn as view,Ge as wait,We as waitFor,ce as waitTransition,ue as watchAttr,qe as watchClass,le as watchText,se as wrap};
/**
 * fdom (Functional DOM) - v2.0.0
 * ==========================================
 * A production-grade, target-first, type-safe DOM library.
 *
 * -----------------------------------------------------------------------------
 * ðŸ§  DESIGN PHILOSOPHY
 * -----------------------------------------------------------------------------
 * 1. Target-First: `Action(Element)(Config)` pattern for intuitive chaining.
 * 2. Curried: Functions return closures for composition/piping.
 * 3. Null-Safe: All functions fail gracefully on `null`/`undefined` targets.
 * 4. Type-Safe: Full Generics for HTML Elements, Events, and Return types.
 *
 * -----------------------------------------------------------------------------
 * ðŸ“š API DIRECTORY (27 MODULES)
 * -----------------------------------------------------------------------------
 *
 * ðŸŸ¢ DOM CORE
  *    1. Querying ......... find, findAll, closest
  *    2. Events ........... on, onDelegated, dispatch
  *    3. Manipulation ..... modify, css, tempStyle
  *    4. Structure ........ append, prepend, after, before, remove, wrap, mount
  *    5. Creation ......... el, html, htmlMany, clone
 *
 * ðŸ”µ STATE & ATTRIBUTES
 *    6. Classes .......... cls (add/remove/toggle), watchClass
 *    7. Attributes ....... Data (get/set/read/bind), watchAttr, watchText
 *    12. Objects ......... Obj (clone, isEqual, pick, omit)
 *    14. Refs ............ refs, groupRefs (data-ref handling)
 *    16. Cycling ......... cycleClass (State machines)
 *
 * ðŸŸ¡ LIFECYCLE & OBSERVATION
 *    8. Lifecycle ........ onReady, onMount, waitFor
 *    17. Cleanup ......... stripListeners, instantiate, cloneMany
 *    20. Timing .......... debounce, throttle
 *    25. Groups .......... createListenerGroup (Batch cleanup)
 *    26. Signals ......... Signal (AbortController wrappers)
 *
 * ðŸŸ£ LAYOUT & NAVIGATION
 *    10. Navigation ...... Traverse (parent, children, siblings, next, prev, parents, nextAll, prevAll, closestAll)
 *    11. CSS Utils ....... CssVar, computed, injectStyles, waitTransition
 *    15. Color ........... toColorSpace (Color mix utils)
 *    18. Geometry ........ rect, offset, isVisible
 *    19. Scroll/Focus .... scrollInto, focus, blur
 *
 * ðŸŸ  DATA & NETWORK
 *    9. URL/Form ......... Params, Form (serialize/populate)
 *    13. Collections ..... batch, groupBy
 *    21. Storage ......... Local, Session (Typed wrappers)
 *    22. Cookies ......... Cookie (get/set/remove)
 *    23. Network ......... Http (get/post/put/delete)
 *    24. PWA ............. SW (Service Worker reg/post)
 *    27. Pub/Sub ......... createBus (Typed Event Emitter)
 *
 * @module fdom
 * @author Patrick Glenn
 * @license MIT
 */
