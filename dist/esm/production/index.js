var L=e=>e.flat().filter(t=>t!=null&&t!==!1).map(t=>t instanceof Node?t:document.createTextNode(String(t))),c=e=>{function t(n,...r){return r.length>0?e(n,...r):(...s)=>e(n,...s)}return t},O=(e=document)=>t=>e.querySelector(t),X=(e=document)=>t=>Array.from(e.querySelectorAll(t)),be=e=>t=>e==null?void 0:e.closest(t),f=e=>(t,n,r=!1)=>{if(!e)return()=>{};let s=o=>n(o,e);return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},he=(e=document)=>t=>(n,r,s=!1)=>{if(!e)return()=>{};let o=i=>{let a=i.target,u=a.closest?a.closest(t):null;u&&e.contains(u)&&r(i,u)};return e.addEventListener(n,o,s),()=>e.removeEventListener(n,o,s)},z=e=>(t,n,r={bubbles:!0})=>(e&&e.dispatchEvent(new CustomEvent(t,{detail:n,...r})),e),h=c((e,t)=>e?(t.text!==void 0&&(e.innerText=t.text),t.html!==void 0&&(e.innerHTML=t.html),t.value!==void 0&&(e.value=t.value),t.disabled!==void 0&&(e.disabled=t.disabled),t.style&&Object.assign(e.style,t.style),t.dataset&&Object.entries(t.dataset).forEach(([n,r])=>{r!==void 0&&(e.dataset[n]=r===null?void 0:String(r))}),t.class&&Object.entries(t.class).forEach(([n,r])=>e.classList.toggle(n,!!r)),t.attr&&Object.entries(t.attr).forEach(([n,r])=>{r===!1||r===null||r===void 0?e.removeAttribute(n):e.setAttribute(n,String(r))}),e):null),ge=h,F=c((e,t)=>(e&&Object.assign(e.style,t),e)),Y=e=>t=>{if(!e)return()=>{};let n={};return Object.keys(t).forEach(r=>{n[r]=e.style[r]}),Object.assign(e.style,t),()=>Object.assign(e.style,n)},Z=c((e,...t)=>(e==null||e.append(...L(t)),e)),ee=c((e,...t)=>(e==null||e.prepend(...L(t)),e)),te=c((e,...t)=>(e==null||e.after(...L(t)),e)),ne=c((e,...t)=>(e==null||e.before(...L(t)),e)),K=e=>(e==null||e.remove(),null),U=e=>(e&&e.replaceChildren(),e),re=c((e,t)=>(e&&t&&e.parentNode&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),t)),xe=e=>(t={})=>(n=[])=>{let r=document.createElement(e);return h(r)(t),r.append(...L(n)),r},we=(e,...t)=>{let n=e.reduce((o,i,a)=>{var u;return o+i+((u=t[a])!=null?u:"")},""),r=document.createElement("template");r.innerHTML=n.trim();let s=r.content.firstElementChild;if(!s)throw new Error("html: Template did not result in an element");return s},Le=(e,...t)=>{let n=e.reduce((s,o,i)=>{var a;return s+o+((a=t[i])!=null?a:"")},""),r=document.createElement("template");return r.innerHTML=n.trim(),r.content},se=e=>(t=!0)=>e?e.cloneNode(t):null,p={add:c((e,...t)=>(e==null||e.classList.add(...t),e)),remove:c((e,...t)=>(e==null||e.classList.remove(...t),e)),toggle:c((e,t,n)=>(e==null||e.classList.toggle(t,n),e)),replace:c((e,t,n)=>(e==null||e.classList.replace(t,n),e)),has:e=>t=>!!e&&e.classList.contains(t)},Se=c((e,t,n)=>{if(!e)return()=>{};let r=e.classList.contains(t),s=new MutationObserver(()=>{let o=e.classList.contains(t);o!==r&&(r=o,n(o,e))});return s.observe(e,{attributes:!0,attributeFilter:["class"]}),()=>s.disconnect()}),oe=e=>"data-"+e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),T={get:e=>t=>e==null?void 0:e.dataset[t],set:c((e,t,n)=>e&&(n==null?delete e.dataset[t]:e.dataset[t]=typeof n=="object"?JSON.stringify(n):String(n),e)),read:e=>t=>{if(!e||!(t in(e.dataset||{})))return;let n=e.dataset[t];if(n==="true")return!0;if(n==="false")return!1;if(n==="null")return null;if(!isNaN(Number(n))&&n.trim()!=="")return Number(n);try{return JSON.parse(n)}catch(r){return n}},bind:c((e,t,n)=>{if(!e)return()=>{};let r=oe(t),s=()=>n(T.read(e)(t),e);s();let o=new MutationObserver(i=>{i.some(a=>a.attributeName===r)&&s()});return o.observe(e,{attributes:!0,attributeFilter:[r]}),()=>o.disconnect()})},ie=c((e,t,n)=>{if(!e)return()=>{};let r=new MutationObserver(s=>s.forEach(o=>{o.attributeName&&n(e.getAttribute(o.attributeName),o.attributeName)}));return r.observe(e,{attributes:!0,attributeFilter:Array.isArray(t)?t:[t]}),()=>r.disconnect()}),ae=c((e,t)=>{if(!e)return()=>{};let n=new MutationObserver(()=>{t(e.textContent||"")});return n.observe(e,{characterData:!0,childList:!0,subtree:!0}),()=>n.disconnect()}),He=e=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()},Me=c((e,t,n=document,r=!1)=>{if(!e)return()=>{};let s=new WeakSet,o=!1,i=u=>{s.has(u)||(u.matches(e)&&(s.add(u),t(u),o=!0),u.querySelectorAll(e).forEach(l=>{s.has(l)||(s.add(l),t(l),o=!0)}))};n.querySelectorAll(e).forEach(i);let a=new MutationObserver(u=>u.forEach(l=>{l.addedNodes.forEach(d=>{d.nodeType===1&&i(d)})}));return r&&o?()=>{}:(a.observe(n,{childList:!0,subtree:!0}),()=>a.disconnect())}),Re=c((e,t)=>new Promise(n=>{if(!e)return;if(t(e))return n(e);let r=new MutationObserver(()=>{t(e)&&(r.disconnect(),n(e))});r.observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0})})),Pe={get:e=>new URLSearchParams(window.location.search).get(e),getAll:e=>new URLSearchParams(window.location.search).getAll(e),set:e=>t=>(n="soft")=>{let r=new URL(window.location.href);r.searchParams.set(e,t),n==="hard"?window.location.href=r.href:window.history.pushState(null,"",r.href)}},M={serialize:e=>{let t={};return e&&e.querySelectorAll("input, select, textarea").forEach(n=>{n.name&&(n.type==="checkbox"?t[n.name]=n.checked:n.type==="radio"?n.checked&&(t[n.name]=n.value):n.type==="number"?t[n.name]=Number(n.value):t[n.name]=n.value)}),t},populate:c((e,t)=>e&&(Object.entries(t).forEach(([n,r])=>{let s=e.querySelector(`[name="${n}"]`);s&&(s.type==="checkbox"||s.type==="radio"?s.checked=!!r:s.value=String(r))}),e))},ke=e=>new Promise(t=>setTimeout(t,e)),Ae=()=>new Promise(e=>requestAnimationFrame(e)),Ce=(e,...t)=>e.reduce((n,r,s)=>{var o;return n+r+((o=t[s])!=null?o:"")},""),g={parent:e=>(e==null?void 0:e.parentElement)||null,next:e=>e==null?void 0:e.nextElementSibling,prev:e=>e==null?void 0:e.previousElementSibling,children:e=>e?Array.from(e.children):[],siblings:e=>!e||!e.parentElement?[]:Array.from(e.parentElement.children).filter(t=>t!==e)},Ne={set:e=>(t,n)=>(e==null||e.style.setProperty(t,n),e),get:e=>t=>e?getComputedStyle(e).getPropertyValue(t).trim():""},Ie=e=>t=>{if(!e)return"";let n=getComputedStyle(e)[t];return typeof n=="string"?n:String(n)},De=(e,t=document.head)=>{let n=document.createElement("style");return n.textContent=e,t.appendChild(n),()=>n.remove()},ue=e=>new Promise(t=>{if(!e)return t(null);let n=()=>{e.removeEventListener("transitionend",n),e.removeEventListener("animationend",n),t(e)};e.addEventListener("transitionend",n),e.addEventListener("animationend",n),requestAnimationFrame(()=>{let r=getComputedStyle(e);r.transitionDuration==="0s"&&r.animationDuration==="0s"&&n()})}),Oe={clone:e=>{try{return structuredClone(e)}catch(t){return JSON.parse(JSON.stringify(e))}},isEqual:(e,t)=>e===t||JSON.stringify(e)===JSON.stringify(t),pick:(e,t)=>{let n={};return t.forEach(r=>{r in e&&(n[r]=e[r])}),n},omit:(e,t)=>{let n={...e};return t.forEach(r=>delete n[r]),n}},Fe=e=>t=>{if(!e)return[];let n=Array.from(e);return n.forEach(t),n},Ke=e=>t=>{let n={};return e&&Array.from(e).forEach(r=>{let s=t(r);(n[s]=n[s]||[]).push(r)}),n},le=e=>{let t={};return e&&e.querySelectorAll("[data-ref]").forEach(n=>{n.dataset.ref&&(t[n.dataset.ref]=n)}),t},Ue=e=>{let t={};return e&&e.querySelectorAll("[data-ref]").forEach(n=>{let r=n.dataset.ref;r&&(t[r]=t[r]||[]).push(n)}),t},je=(e,t="srgb")=>{let n=document.createElement("div");n.style.color=`color-mix(in ${t}, ${e} 100%, transparent)`,document.body.appendChild(n);let r=getComputedStyle(n).color;return n.remove(),r},ce=e=>t=>e?()=>{let n=t.findIndex(s=>e.classList.contains(s));n>-1&&e.classList.remove(t[n]);let r=(n+1)%t.length;e.classList.add(t[r])}:()=>{},qe=e=>{if(!e||!e.parentNode)return e;let t=e.cloneNode(!0);return e.replaceWith(t),t},$e=e=>(t={})=>{let n=typeof e=="string"?document.querySelector(e):e;if(!n||!("content"in n))throw new Error(`instantiate: Invalid template '${e}'`);let r=n.content.cloneNode(!0);return Object.keys(t).length>0&&r.firstElementChild&&h(r.firstElementChild)(t),r},Be=e=>t=>e?Array.from({length:t}).map(()=>e.cloneNode(!0)):[],de=e=>e?e.getBoundingClientRect():new DOMRect(0,0,0,0),me=e=>{if(!e)return{top:0,left:0};let t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+window.scrollY-n.clientTop,left:t.left+window.scrollX-n.clientLeft}},Ve=e=>!!(e&&(e.offsetWidth>0||e.offsetHeight>0)),We=e=>(t={behavior:"smooth",block:"start"})=>(e==null||e.scrollIntoView(t),e),_e=e=>t=>(e==null||e.focus(t),e),Je=e=>(e==null||e.blur(),e),j=(e,t)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>e(...r),t)}},Qe=(e,t)=>{let n=0;return(...r)=>{let s=Date.now();s-n>=t&&(e(...r),n=s)}},q=e=>({get:t=>{let n=e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},set:t=>n=>{let r=typeof n=="object"?JSON.stringify(n):String(n);e.setItem(t,r)},remove:t=>e.removeItem(t),clear:()=>e.clear()}),Ge=q(window.localStorage),Xe=q(window.sessionStorage),fe={get:e=>{let t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?decodeURIComponent(t[2]):null},set:e=>t=>(n={})=>{let r=new Date;r.setTime(r.getTime()+24*60*60*1e3*(n.days||0)),document.cookie=`${e}=${encodeURIComponent(t)};path=${n.path||"/"}`+(n.days?`;expires=${r.toUTCString()}`:"")+(n.secure?";secure":"")},remove:e=>{fe.set(e)("")({days:-1})}},ze={register:async(e,t)=>{if("serviceWorker"in navigator)try{return await navigator.serviceWorker.register(e,t)}catch(n){return null}return null},post:e=>{navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(e)}},Ye=()=>{let e=[];return{add:t=>{e.push(t)},clear:()=>{e.forEach(t=>t()),e.length=0}}},Ze={create:()=>{let e=new AbortController;return{signal:e.signal,abort:()=>e.abort()}},timeout:e=>{if("timeout"in AbortSignal)return AbortSignal.timeout(e);let t=new AbortController;return setTimeout(()=>t.abort(),e),t.signal},wrap:(e,t)=>t?t.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((n,r)=>{let s=()=>{r(new DOMException("Aborted","AbortError")),t.removeEventListener("abort",s)};t.addEventListener("abort",s),e.then(o=>{t.removeEventListener("abort",s),n(o)},o=>{t.removeEventListener("abort",s),r(o)})}):e},et=()=>{let e=new EventTarget;return{on:(t,n)=>{let r=s=>n(s.detail);return e.addEventListener(t,r),()=>e.removeEventListener(t,r)},emit:(t,n)=>{e.dispatchEvent(new CustomEvent(t,{detail:n}))},once:(t,n)=>{let r=s=>n(s.detail);e.addEventListener(t,r,{once:!0})}}},tt=e=>{let t=r=>(...s)=>(e&&r(e)(...s),n),n={raw:e,on:t(f),dispatch:t(z),modify:t(h),css:t(F),tempStyle:(r,s)=>{if(e){let o=Y(e)(r);s&&setTimeout(o,s)}return n},append:t(Z),prepend:t(ee),after:t(te),before:t(ne),remove:()=>{e&&K(e)},empty:()=>(e&&U(e),n),wrap:t(re),clone:()=>e?se(e):null,addClass:t(p.add),removeClass:t(p.remove),toggleClass:t(p.toggle),replaceClass:t(p.replace),hasClass:r=>e?p.has(e)(r):!1,cycleClass:t(ce),dataGet:r=>e?T.get(e)(r):void 0,dataSet:t(T.set),dataRead:r=>e?T.read(e)(r):void 0,dataBind:(r,s)=>e?T.bind(e)(r,s):()=>{},watchAttr:(r,s)=>e?ie(e)(r,s):()=>{},watchText:r=>e?ae(e)(r):()=>{},val:r=>r===void 0?m.get(e):(m.set(e)(r),n),files:()=>m.files(e),onInput:r=>e?m.watch(e)(r):()=>{},onInputDebounced:(r,s)=>e?m.watchDebounced(e)(s,r):()=>{},onChange:r=>e?m.change(e)(r):()=>{},selectText:()=>(m.select(e),n),validate:()=>e?m.validate(e):!1,onKey:(r,s)=>(e&&R.is(e)(r,s),n),onTab:r=>(e&&R.onTab(e)(r),n),onArrow:r=>(e&&R.onArrow(e)(r),n),onFocus:r=>(e&&x.on(e)(r),n),onBlur:r=>(e&&x.onBlur(e)(r),n),onFocusIn:r=>(e&&x.onIn(e)(r),n),onFocusOut:r=>(e&&x.onOut(e)(r),n),trapFocus:()=>x.trap(e),clickOutside:r=>{if(!e)return()=>{};let s=o=>{e&&!e.contains(o.target)&&r()};return document.addEventListener("click",s),()=>document.removeEventListener("click",s)},hasText:r=>e?!!H.find(e)(r):!1,findText:(r,s)=>e?H.find(e)(r,s):null,findAllText:(r,s)=>e?H.findAll(e)(r,s):[],replaceText:(r,s)=>(e&&H.replace(e)(r,s),n),transitionName:t(b.name),removeTransitionName:()=>(b.unname(e),n),transitionWith:(r,s)=>b.tempName(e)(r)(s),parent:g.parent(e),next:g.next(e),prev:g.prev(e),children:g.children(e),siblings:g.siblings(e),rect:()=>de(e),offset:()=>me(e),scrollInto:r=>(e==null||e.scrollIntoView(r),n),focus:r=>(e==null||e.focus(r),n),blur:()=>(e==null||e.blur(),n),waitTransition:()=>ue(e)};return n},nt=e=>{let t=typeof e=="string"?O(document)(e):e;if(!t)return{};let n=le(t);return{root:t,...n}},rt=e=>{let t=typeof e=="string"?X(document)(e):Array.from(e),n=s=>(o,i)=>(t.forEach(a=>s(a)(o,i)),r),r={raw:t,modify:n(h),css:n(F),addClass:n(p.add),removeClass:n(p.remove),toggleClass:n(p.toggle),attr:n(s=>o=>h(s)({attr:o})),on:(s,o)=>{let i=t.map(a=>f(a)(s,o));return()=>i.forEach(a=>a())},remove:()=>t.forEach(s=>K(s)),empty:()=>t.forEach(s=>U(s)),map:s=>t.map(s),filter:s=>t.filter(s)};return r},st=e=>e?new Proxy({},{get:(t,n)=>T.read(e)(n),set:(t,n,r)=>(T.set(e)(n,r),!0),deleteProperty:(t,n)=>(T.set(e)(n,null),!0),ownKeys:()=>Reflect.ownKeys(e.dataset),getOwnPropertyDescriptor:(t,n)=>({enumerable:!0,configurable:!0})}):{},ot=e=>{let t=typeof e=="string"?O(document)(e):e;return{raw:t,values:()=>M.serialize(t),set:n=>M.populate(t)(n),clear:()=>{t&&t.querySelectorAll("input, select, textarea").forEach(n=>{n.type==="checkbox"||n.type==="radio"?n.checked=!1:n.value=""})},submit:n=>f(t)("submit",r=>{r.preventDefault(),n(M.serialize(t),r)})}},m={get:e=>{if(e){if(e instanceof HTMLInputElement){if(e.type==="checkbox"||e.type==="radio")return e.checked;if(e.type==="number"||e.type==="range")return e.valueAsNumber;if(e.type==="file")return e.files;if(e.type==="date")return e.valueAsDate}return e.value}},set:e=>t=>e&&(e instanceof HTMLInputElement?e.type==="checkbox"||e.type==="radio"?e.checked=!!t:e.type==="file"?t||(e.value=""):e.type==="date"&&t instanceof Date?e.valueAsDate=t:e.value=String(t):e.value=String(t),e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),e),files:e=>e&&e.files?Array.from(e.files):[],watch:e=>t=>{if(!e)return()=>{};let n=r=>t(m.get(e),r);return e.addEventListener("input",n),()=>e.removeEventListener("input",n)},watchDebounced:e=>(t,n)=>{if(!e)return()=>{};let r=j(s=>t(m.get(e)),n);return e.addEventListener("input",r),()=>e.removeEventListener("input",r)},change:e=>t=>{if(!e)return()=>{};let n=r=>t(m.get(e),r);return e.addEventListener("change",n),()=>e.removeEventListener("change",n)},select:e=>(e==null||e.select(),e),validate:e=>t=>e?(t!==void 0&&e.setCustomValidity(t),e.checkValidity()):!1},it={stop:e=>t=>{t.stopPropagation(),e&&e(t)},prevent:e=>t=>{t.preventDefault(),e&&e(t)},kill:e=>t=>{t.preventDefault(),t.stopPropagation(),e&&e(t)},key:(e,t)=>n=>{(Array.isArray(e)?e:[e]).includes(n.key)&&t(n)},isSelf:e=>e.target===e.currentTarget,pointer:e=>{if("touches"in e){let t=e.touches[0]||e.changedTouches[0];return{x:t.clientX,y:t.clientY}}return{x:e.clientX,y:e.clientY}}},R={is:e=>(t,n)=>f(e)("keydown",r=>{r.key===t&&n(r)}),onTab:e=>t=>f(e)("keydown",n=>{n.key==="Tab"&&t(n)}),onArrow:e=>t=>f(e)("keydown",n=>{if(n.key.startsWith("Arrow")){let r=n.key.replace("Arrow","");t(r,n)}})},x={on:e=>t=>f(e)("focus",t),onBlur:e=>t=>f(e)("blur",t),onIn:e=>t=>f(e)("focusin",t),onOut:e=>t=>f(e)("focusout",t),trap:e=>{if(!e)return()=>{};let t=n=>{if(n.key!=="Tab")return;let r=e.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),s=r[0],o=r[r.length-1];n.shiftKey?document.activeElement===s&&(n.preventDefault(),o.focus()):document.activeElement===o&&(n.preventDefault(),s.focus())};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},H={findAll:(e=document)=>(t,n="*")=>{let r=new Set,s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),o;for(;o=s.nextNode();){let i=o.parentElement,a=o.nodeValue||"";if(!i||!i.matches(n))continue;(typeof t=="string"?a.includes(t):t.test(a))&&r.add(i)}return Array.from(r)},find:(e=document)=>(t,n="*")=>{let r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),s;for(;s=r.nextNode();){let o=s.parentElement,i=s.nodeValue||"";if(!o||!o.matches(n))continue;if(typeof t=="string"?i.includes(t):t.test(i))return o}return null},replace:e=>(t,n)=>{if(!e)return e;let r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),s;for(;s=r.nextNode();){let o=s.nodeValue||"";(typeof t=="string"?o.includes(t):t.test(o))&&(s.nodeValue=o.replace(t,n))}return e}},b={isSupported:()=>"startViewTransition"in document,name:e=>t=>(e&&(e.style.viewTransitionName=t),e),unname:e=>(e&&e.style.removeProperty("view-transition-name"),e),start:e=>"startViewTransition"in document?document.startViewTransition(e):(e(),null),withClass:e=>t=>{document.documentElement.classList.add(e);let n=b.start(t);return n?n.finished.finally(()=>document.documentElement.classList.remove(e)):document.documentElement.classList.remove(e),n},tempName:e=>t=>n=>{if(!e)return b.start(n);e.style.viewTransitionName=t;let r=b.start(n);return r?r.finished.finally(()=>e.style.removeProperty("view-transition-name")):e.style.removeProperty("view-transition-name"),r}},D={resolve:e=>Promise.resolve(e),sleep:e=>new Promise(t=>setTimeout(t,e)),nextFrame:()=>new Promise(e=>requestAnimationFrame(e)),retry:(e,t={})=>{let{retries:n=3,delay:r=100,factor:s=2}=t;return e().catch(o=>{if(n<=0)throw o;return D.sleep(r).then(()=>D.retry(e,{retries:n-1,delay:r*s,factor:s}))})},timeout:(e,t)=>Promise.race([e,new Promise((n,r)=>setTimeout(()=>r(new Error("TimeoutError")),t))]),map:async(e,t,n=1/0)=>{let r=[],s=e.map((i,a)=>({item:i,i:a})),o=async()=>{for(;s.length>0;){let{item:i,i:a}=s.shift();r[a]=await t(i,a)}};return await Promise.all(Array.from({length:Math.min(e.length,n)},o)),r},defer:()=>{let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}},cancelable:e=>{let t=!1;return{promise:new Promise((r,s)=>{e.then(o=>!t&&r(o),o=>!t&&s(o))}),cancel:()=>{t=!0}}}},at=(e={})=>{let t=e.concurrency||1,n=[],r=0,s=!e.autoStart&&e.autoStart!==void 0,o={drain:[],error:[]},i=()=>{if(s||r>=t||n.length===0){r===0&&n.length===0&&o.drain.forEach(u=>u());return}let a=n.shift();a&&(r++,Promise.resolve().then(()=>a.fn()).then(u=>a.resolve(u)).catch(u=>{o.error.forEach(l=>l(u)),a.reject(u)}).finally(()=>{r--,i()}),i())};return{add:a=>new Promise((u,l)=>{n.push({fn:a,resolve:u,reject:l}),i()}),pause:()=>{s=!0},resume:()=>{s=!1,i()},clear:()=>{n.length=0},size:()=>n.length+r,drain:()=>new Promise(a=>{if(r===0&&n.length===0)return a();o.drain.push(a)}),onError:a=>o.error.push(a)}},pe={query:e=>(t="push")=>{let n=new URL(window.location.href);Object.entries(e).forEach(([s,o])=>{n.searchParams.delete(s),!(o==null||o==="")&&(Array.isArray(o)?o.forEach(i=>n.searchParams.append(s,String(i))):n.searchParams.set(s,String(o)))});let r=t==="replace"?"replaceState":"pushState";window.history[r](window.history.state,"",n.href)},readQuery:()=>Object.fromEntries(new URLSearchParams(window.location.search)),readQueryAll:()=>{let e={};return new URLSearchParams(window.location.search).forEach((t,n)=>{(e[n]=e[n]||[]).push(t)}),e},push:(e,t)=>{window.history.pushState(t,"",e)},replace:(e,t)=>{window.history.replaceState(t,"",e)},state:()=>window.history.state,back:()=>window.history.back(),forward:()=>window.history.forward(),reload:()=>window.location.reload(),onPop:e=>(window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)),encodeState:e=>{try{let t=JSON.stringify(e);return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(n,r)=>String.fromCharCode(parseInt(r,16))))}catch(t){return""}},decodeState:e=>{try{let t=decodeURIComponent(Array.prototype.map.call(atob(e),n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(t)}catch(t){return null}},syncToUrl:(e,t=300)=>n=>{if(!n)return()=>{};let r=n.type==="checkbox"||n.type==="radio",s=()=>{let i=new URLSearchParams(window.location.search).get(e);i!==null&&(r?n.checked=i==="true":n.value=i)},o=j(()=>{let i=r?String(n.checked):n.value;pe.query({[e]:i})("replace")},t);return s(),n.addEventListener("input",o),n.addEventListener("change",o),window.addEventListener("popstate",s),()=>{n.removeEventListener("input",o),n.removeEventListener("change",o),window.removeEventListener("popstate",s)}}},ut={pipe:(...e)=>t=>e.reduce((n,r)=>r(n),t),curry:e=>t=>n=>e(t,n),swap:e=>t=>n=>e(n)(t),flip:e=>(t,n)=>e(n,t),tap:e=>t=>(e(t),t),maybe:e=>t=>t==null?null:e(t),unbind:e=>(t,n)=>e(n)(t),thunk:(e,...t)=>()=>e(...t),identity:e=>e,noop:()=>{}},w={ok:e=>({ok:!0,val:e,err:null}),err:e=>({ok:!1,val:null,err:e}),try:e=>{try{return w.ok(e())}catch(t){return w.err(t instanceof Error?t:new Error(String(t)))}},async:async e=>{try{let t=await e();return w.ok(t)}catch(t){return w.err(t instanceof Error?t:new Error(String(t)))}},unwrap:e=>{if(e.ok)return e.val;throw e.err},unwrapOr:(e,t)=>e.ok?e.val:t,map:(e,t)=>e.ok?w.ok(t(e.val)):e},lt={from:e=>({val:e,isSome:e!=null,isNone:e==null}),unwrapOr:(e,t)=>e!=null?e:t,map:(e,t)=>e!=null?t(e):null,then:(e,t)=>{e!=null&&t(e)}},ct={val:(e,t)=>{let n=e;return r=>{Object.is(n,r)||(n=r,t(r))}},text:e=>{let t;return n=>{e&&t!==n&&(t=n,e.textContent=n)}},html:e=>{let t;return n=>{e&&t!==n&&(t=n,e.innerHTML=n)}},attr:(e,t)=>{let n=r=>{let s;return o=>{!r||s===o||(s=o,o===null||o===!1?r.removeAttribute(e):r.setAttribute(e,String(o)))}};return t!==void 0?n(t):n},toggle:(e,t)=>{let n=r=>{let s;return o=>{!r||s===o||(s=o,r.classList.toggle(e,o))}};return t!==void 0?n(t):n},list:(e,t)=>{let n;return r=>{if(!e||r===n)return;if(n=r,r.length===0){e.firstChild&&e.replaceChildren();return}let s=document.createDocumentFragment();r.forEach((o,i)=>s.appendChild(t(o,i))),e.replaceChildren(s)}}},dt=(e,t)=>{Object.entries(t).forEach(([n,r])=>{let s=e[n];s&&Object.entries(r).forEach(([o,i])=>{f(s)(o,a=>i(a,s))})})},mt=e=>{let t=document.createElement("template");return t.innerHTML=e.trim(),()=>{let n=document.importNode(t.content,!0),r={};return n.querySelectorAll("[data-ref]").forEach(o=>{let i=o.dataset.ref;i&&(r[i]=o)}),{root:n.children.length===1?n.firstElementChild:n,refs:r}}},ft=(e,t)=>{let n={};for(let r in t)e[r]&&(n[r]=t[r](e[r]));return n},Te=(e,t)=>({...e,...t}),Ee=(e,t,n)=>{let r=t?`${t}${e}`:e;if(n){let s=new URLSearchParams;for(let[i,a]of Object.entries(n))a!=null&&s.set(i,String(a));let o=s.toString();o&&(r+=`${r.includes("?")?"&":"?"}${o}`)}return r},ye=e=>e==null?null:typeof e=="string"||e instanceof Blob||e instanceof FormData||e instanceof ArrayBuffer?e:JSON.stringify(e),ve=async(e,t)=>{let n=e.headers.get("content-type")||"",r;if(n.includes("application/json"))try{r=await e.json()}catch(s){r=await e.text()}else n.includes("text")?r=await e.text():n.includes("image")||n.includes("video")||n.includes("audio")?r=await e.blob():r=await e.arrayBuffer();return t?t(r):r},$=async(e,t,n=0,r=1e3,s=0)=>{let o=new AbortController,i=s>0?setTimeout(()=>o.abort(),s):void 0;try{return await fetch(e,{...t,signal:o.signal})}catch(a){if(i!==void 0&&clearTimeout(i),n>0&&(a instanceof TypeError||a instanceof DOMException))return await new Promise(u=>setTimeout(u,r)),$(e,t,n-1,r,s);throw a}finally{i!==void 0&&clearTimeout(i)}},pt={create:(e={})=>{let{baseURL:t,headers:n,timeout:r=0,retries:s=0,retryDelay:o=1e3,interceptRequest:i,interceptResponse:a}=e,u=async(l,d,P={})=>{let{body:E,baseURL:B=t,params:V,timeout:W=r,retries:_=s,retryDelay:J=o,transform:Q,...k}=P,A=Te(n,k.headers);E&&typeof E=="object"&&!Array.isArray(E)&&!(E instanceof FormData)&&(A["Content-Type"]="application/json");let S={...k,method:l,headers:A};if(E!=null&&(S.body=ye(E)),i){let y=await i(P);S={...S,...y}}let G=Ee(d,B,V),v;try{v=await $(G,S,_,J,W)}catch(y){let I={ok:!1,status:0,statusText:"Network Error",data:null,error:y instanceof Error?y:new Error(String(y)),response:null};return a?await a(I):I}let C=null;try{C=await ve(v,Q)}catch(y){console.error("Failed to parse response:",y)}let N={ok:v.ok,status:v.status,statusText:v.statusText,data:C,error:null,response:v};return a?await a(N):N};return{get:l=>(d={})=>u("GET",l,d),post:l=>(d={})=>u("POST",l,d),put:l=>(d={})=>u("PUT",l,d),delete:l=>(d={})=>u("DELETE",l,d),patch:l=>(d={})=>u("PATCH",l,d),isOk:l=>l.ok,unwrap:l=>{if(!l.ok)throw l.error||new Error(`HTTP ${l.status}: ${l.statusText}`);return l.data},unwrapOr:(l,d)=>l.ok?l.data:d}},get:async(e,t={})=>{let n=await fetch(e,{headers:t});if(!n.ok)throw new Error(`Http.get ${n.status}: ${n.statusText}`);return n.json()},post:e=>t=>async(n={})=>{let r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...n},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Http.post ${r.status}: ${r.statusText}`);return r.json()},put:e=>t=>async(n={})=>{let r=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",...n},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Http.put ${r.status}: ${r.statusText}`);return r.json()},delete:async(e,t={})=>{let n=await fetch(e,{method:"DELETE",headers:t});if(!n.ok)throw new Error(`Http.delete ${n.status}: ${n.statusText}`);return n.json()}};export{tt as $,rt as $$,D as Async,fe as Cookie,Ne as CssVar,T as Data,it as Evt,ut as Fn,x as Focus,M as Form,pe as History,pt as Http,m as Input,R as Key,Ge as Local,Oe as Obj,lt as Option,Pe as Params,w as Result,ze as SW,Xe as Session,Ze as Signal,H as Text,g as Traverse,b as ViewTransitions,te as after,Z as append,Fe as batch,ne as before,ct as bind,dt as bindEvents,ft as binder,Je as blur,se as clone,Be as cloneMany,be as closest,p as cls,nt as component,Ie as computed,et as createBus,Ye as createListenerGroup,at as createQueue,F as css,Ce as cssTemplate,ce as cycleClass,j as debounce,c as def,z as dispatch,xe as el,U as empty,O as find,X as findAll,_e as focus,ot as form,Ke as groupBy,Ue as groupRefs,we as html,Le as htmlMany,De as injectStyles,$e as instantiate,Ve as isVisible,h as modify,Ae as nextFrame,me as offset,f as on,he as onDelegated,Me as onMount,He as onReady,ee as prepend,de as rect,le as refs,K as remove,We as scrollInto,ge as set,st as store,qe as stripListeners,Y as tempStyle,Qe as throttle,je as toColorSpace,mt as view,ke as wait,Re as waitFor,ue as waitTransition,ie as watchAttr,Se as watchClass,ae as watchText,re as wrap};
/**
 * fdom (Functional DOM) - v2.0.0
 * ==========================================
 * A production-grade, target-first, type-safe DOM library.
 *
 * -----------------------------------------------------------------------------
 * ðŸ§  DESIGN PHILOSOPHY
 * -----------------------------------------------------------------------------
 * 1. Target-First: `Action(Element)(Config)` pattern for intuitive chaining.
 * 2. Curried: Functions return closures for composition/piping.
 * 3. Null-Safe: All functions fail gracefully on `null`/`undefined` targets.
 * 4. Type-Safe: Full Generics for HTML Elements, Events, and Return types.
 *
 * -----------------------------------------------------------------------------
 * ðŸ“š API DIRECTORY (27 MODULES)
 * -----------------------------------------------------------------------------
 *
 * ðŸŸ¢ DOM CORE
 *    1. Querying ......... find, findAll, closest
 *    2. Events ........... on, onDelegated, dispatch
 *    3. Manipulation ..... modify, css, tempStyle
 *    4. Structure ........ append, prepend, after, before, remove, wrap
 *    5. Creation ......... el, html, htmlMany, clone
 *
 * ðŸ”µ STATE & ATTRIBUTES
 *    6. Classes .......... cls (add/remove/toggle), watchClass
 *    7. Attributes ....... Data (get/set/read/bind), watchAttr, watchText
 *    12. Objects ......... Obj (clone, isEqual, pick, omit)
 *    14. Refs ............ refs, groupRefs (data-ref handling)
 *    16. Cycling ......... cycleClass (State machines)
 *
 * ðŸŸ¡ LIFECYCLE & OBSERVATION
 *    8. Lifecycle ........ onReady, onMount, waitFor
 *    17. Cleanup ......... stripListeners, instantiate, cloneMany
 *    20. Timing .......... debounce, throttle
 *    25. Groups .......... createListenerGroup (Batch cleanup)
 *    26. Signals ......... Signal (AbortController wrappers)
 *
 * ðŸŸ£ LAYOUT & NAVIGATION
 *    10. Navigation ...... Traverse (parent, children, siblings, next, prev)
 *    11. CSS Utils ....... CssVar, computed, injectStyles, waitTransition
 *    15. Color ........... toColorSpace (Color mix utils)
 *    18. Geometry ........ rect, offset, isVisible
 *    19. Scroll/Focus .... scrollInto, focus, blur
 *
 * ðŸŸ  DATA & NETWORK
 *    9. URL/Form ......... Params, Form (serialize/populate)
 *    13. Collections ..... batch, groupBy
 *    21. Storage ......... Local, Session (Typed wrappers)
 *    22. Cookies ......... Cookie (get/set/remove)
 *    23. Network ......... Http (get/post/put/delete)
 *    24. PWA ............. SW (Service Worker reg/post)
 *    27. Pub/Sub ......... createBus (Typed Event Emitter)
 *
 * @module fdom
 * @author Patrick Glenn
 * @license MIT
 */
