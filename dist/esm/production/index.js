var v=e=>e.flat().filter(t=>t!=null&&t!==!1).map(t=>t instanceof Node?t:document.createTextNode(String(t))),d=e=>{function t(n,...r){return r.length>0?e(n,...r):(...o)=>e(n,...o)}return t};function q(e){if(typeof e=="string"){let n=e;return document.querySelector(n)}let t=e!=null?e:document;return n=>t.querySelector(n)}function ve(e,t=document){let n=t.querySelector(e);if(!n)throw new Error(`Element not found: ${e}`);return n}function Y(e){if(typeof e=="string"){let n=e;return Array.from(document.querySelectorAll(n))}let t=e!=null?e:document;return n=>Array.from(t.querySelectorAll(n))}function xe(e){if(typeof e=="string"){let n=e;return document.documentElement.closest(n)}let t=e;return n=>t==null?void 0:t.closest(n)}function we(e){if(typeof e=="string")return document.querySelector(e)!==null;let t=e!=null?e:document;return n=>t.querySelector(n)!==null}function Le(e){if(!(e instanceof Element)&&e!==null){let n=e;return r=>!n||!r?[]:Array.from(n.children).filter(o=>o!==r)}let t=e;return!t||!t.parentElement?[]:Array.from(t.parentElement.children).filter(n=>n!==t)}function Se(e){if(typeof e=="string")return document.querySelector(e)!==null;let t=e;return n=>t?t.querySelector(n)!==null:!1}function Me(e){if(!(e instanceof Element)&&e!==null){let n=e;return r=>!n||!r?-1:Array.from(n.children).indexOf(r)}let t=e;return!t||!t.parentElement?-1:Array.from(t.parentElement.children).indexOf(t)}var f=e=>(t,n,r=!1)=>{if(!e)return()=>{};let o=s=>n(s,e);return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},He=(e=document)=>t=>(n,r,o=!1)=>{if(!e)return()=>{};let s=i=>{let u=i.target,a=u.closest?u.closest(t):null;a&&e.contains(a)&&r(i,a)};return e.addEventListener(n,s,o),()=>e.removeEventListener(n,s,o)},O=e=>(t,n,r={bubbles:!0})=>(e&&e.dispatchEvent(new CustomEvent(t,{detail:n,...r})),e),g=d((e,t)=>e?(t.text!==void 0&&(e.innerText=t.text),t.html!==void 0&&(e.innerHTML=t.html),t.value!==void 0&&(e.value=t.value),t.disabled!==void 0&&(e.disabled=t.disabled),t.style&&Object.assign(e.style,t.style),t.dataset&&Object.entries(t.dataset).forEach(([n,r])=>{r!==void 0&&(e.dataset[n]=r===null?void 0:String(r))}),t.class&&Object.entries(t.class).forEach(([n,r])=>e.classList.toggle(n,!!r)),t.attr&&Object.entries(t.attr).forEach(([n,r])=>{r===!1||r===null||r===void 0?e.removeAttribute(n):e.setAttribute(n,String(r))}),e):null),Pe=g,U=d((e,t)=>(e&&Object.assign(e.style,t),e)),Z=e=>t=>{if(!e)return()=>{};let n={};return Object.keys(t).forEach(r=>{n[r]=e.style[r]}),Object.assign(e.style,t),()=>Object.assign(e.style,n)},ee=d((e,...t)=>(e==null||e.append(...v(t)),e)),te=d((e,...t)=>(e==null||e.prepend(...v(t)),e)),ne=d((e,...t)=>(e==null||e.after(...v(t)),e)),re=d((e,...t)=>(e==null||e.before(...v(t)),e)),j=e=>(e==null||e.remove(),null),$=e=>(e&&e.replaceChildren(),e),oe=d((e,t)=>(e&&t&&e.parentNode&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),t)),Re=d((e,t)=>{if(!t)return()=>{};let n=typeof e=="string"?document.querySelector(e):e;return n?(n.appendChild(t),()=>{t.parentNode===n&&n.removeChild(t)}):()=>{}});function ke(e,t,n){if(t!==void 0&&n!==void 0){let r=document.createElement(e);return g(r)(t),r.append(...v(n)),r}return(r={})=>(o=[])=>{let s=document.createElement(e);return g(s)(r),s.append(...v(o)),s}}var Ae=(e,...t)=>{let n=e.reduce((s,i,u)=>{var a;return s+i+((a=t[u])!=null?a:"")},""),r=document.createElement("template");r.innerHTML=n.trim();let o=r.content.firstElementChild;if(!o)throw new Error("html: Template did not result in an element");return o},Ne=(e,...t)=>{let n=e.reduce((o,s,i)=>{var u;return o+s+((u=t[i])!=null?u:"")},""),r=document.createElement("template");return r.innerHTML=n.trim(),r.content},se=e=>(t=!0)=>e?e.cloneNode(t):null,E={add:d((e,...t)=>(e==null||e.classList.add(...t),e)),remove:d((e,...t)=>(e==null||e.classList.remove(...t),e)),toggle:d((e,t,n)=>(e==null||e.classList.toggle(t,n),e)),replace:d((e,t,n)=>(e==null||e.classList.replace(t,n),e)),has:e=>t=>!!e&&e.classList.contains(t)},Ce=d((e,t,n)=>{if(!e)return()=>{};let r=e.classList.contains(t),o=new MutationObserver(()=>{let s=e.classList.contains(t);s!==r&&(r=s,n(s,e))});return o.observe(e,{attributes:!0,attributeFilter:["class"]}),()=>o.disconnect()}),ie=e=>"data-"+e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),T={get:e=>t=>e==null?void 0:e.dataset[t],set:d((e,t,n)=>e&&(n==null?delete e.dataset[t]:e.dataset[t]=typeof n=="object"?JSON.stringify(n):String(n),e)),read:e=>t=>{if(!e||!(t in(e.dataset||{})))return;let n=e.dataset[t];if(n==="true")return!0;if(n==="false")return!1;if(n==="null")return null;if(!isNaN(Number(n))&&n.trim()!=="")return Number(n);if(n.startsWith("{")||n.startsWith("["))try{return JSON.parse(n)}catch(r){return n}return n},bind:d((e,t,n)=>{if(!e)return()=>{};let r=ie(t),o=()=>n(T.read(e)(t),e);o();let s=new MutationObserver(i=>{i.some(u=>u.attributeName===r)&&o()});return s.observe(e,{attributes:!0,attributeFilter:[r]}),()=>s.disconnect()})},ue=d((e,t,n)=>{if(!e)return()=>{};let r=new MutationObserver(o=>o.forEach(s=>{s.attributeName&&n(e.getAttribute(s.attributeName),s.attributeName)}));return r.observe(e,{attributes:!0,attributeFilter:Array.isArray(t)?t:[t]}),()=>r.disconnect()}),ae=d((e,t)=>{if(!e)return()=>{};let n=new MutationObserver(()=>{t(e.textContent||"")});return n.observe(e,{characterData:!0,childList:!0,subtree:!0}),()=>n.disconnect()});function Ke(e){if(typeof e=="string"){let n=e;return document.documentElement.getAttribute(n)}let t=e;return(n,r)=>{if(!t)return r===void 0?null:void 0;if(r===void 0)return t.getAttribute(n);t.setAttribute(n,r)}}function Ie(e){if(typeof e=="string"){let n=e;return document.documentElement[n]}let t=e;return(n,r)=>{if(t){if(r===void 0)return t[n];t[n]=r}}}var De=e=>{document.readyState==="complete"||document.readyState==="interactive"?e():document.addEventListener("DOMContentLoaded",e,{once:!0})},Fe={dom:()=>new Promise(e=>{document.readyState!=="loading"?e():document.addEventListener("DOMContentLoaded",()=>e(),{once:!0})}),micro:()=>new Promise(e=>queueMicrotask(e)),raf:()=>new Promise(e=>requestAnimationFrame(()=>e()))},qe=d((e,t,n=document,r=!1)=>{if(!e)return()=>{};let o=new WeakSet,s=!1,i=a=>{o.has(a)||(a.matches(e)&&(o.add(a),t(a),s=!0),a.querySelectorAll(e).forEach(l=>{o.has(l)||(o.add(l),t(l),s=!0)}))};n.querySelectorAll(e).forEach(i);let u=new MutationObserver(a=>a.forEach(l=>{l.addedNodes.forEach(c=>{c.nodeType===1&&i(c)})}));return r&&s?()=>{}:(u.observe(n,{childList:!0,subtree:!0}),()=>u.disconnect())}),Ue=d((e,t)=>new Promise(n=>{if(!e)return;if(t(e))return n(e);let r=new MutationObserver(()=>{t(e)&&(r.disconnect(),n(e))});r.observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0})})),je={get:e=>new URLSearchParams(window.location.search).get(e),getAll:e=>new URLSearchParams(window.location.search).getAll(e),set:e=>t=>(n="soft")=>{let r=new URL(window.location.href);r.searchParams.set(e,t),n==="hard"?window.location.href=r.href:window.history.pushState(null,"",r.href)}},R={serialize:e=>{let t={};return e&&e.querySelectorAll("input, select, textarea").forEach(n=>{n.name&&(n.type==="checkbox"?t[n.name]=n.checked:n.type==="radio"?n.checked&&(t[n.name]=n.value):n.type==="number"?t[n.name]=Number(n.value):t[n.name]=n.value)}),t},populate:d((e,t)=>e&&(Object.entries(t).forEach(([n,r])=>{let o=e.querySelector(`[name="${n}"]`);o&&(o.type==="checkbox"||o.type==="radio"?o.checked=!!r:o.value=String(r))}),e))},$e=e=>new Promise(t=>setTimeout(t,e)),Be=()=>new Promise(e=>requestAnimationFrame(e)),We=(e,...t)=>e.reduce((n,r,o)=>{var s;return n+r+((s=t[o])!=null?s:"")},""),w={parent(e){if(typeof e=="string"){let n=document.querySelector(e);return(n==null?void 0:n.parentElement)||null}let t=e!=null?e:null;return n=>{var o;let r=(o=t==null?void 0:t.parentElement)!=null?o:null;return r&&(!n||r.matches(n))?r:null}},next(e){if(typeof e=="string"){let n=document.querySelector(e);return(n==null?void 0:n.nextElementSibling)||null}let t=e!=null?e:null;return n=>{var o;let r=(o=t==null?void 0:t.nextElementSibling)!=null?o:null;return!n||!r||r.matches(n)?r:null}},prev(e){if(typeof e=="string"){let n=document.querySelector(e);return(n==null?void 0:n.previousElementSibling)||null}let t=e!=null?e:null;return n=>{var o;let r=(o=t==null?void 0:t.previousElementSibling)!=null?o:null;return!n||!r||r.matches(n)?r:null}},children(e){if(typeof e=="string"){let n=document.querySelector(e);return n?Array.from(n.children):[]}let t=e!=null?e:null;return n=>{if(!t)return[];let r=Array.from(t.children);return n?r.filter(o=>o.matches(n)):r}},siblings(e){if(typeof e=="string"){let n=document.querySelector(e);return n!=null&&n.parentElement?Array.from(n.parentElement.children).filter(r=>r!==n):[]}let t=e!=null?e:null;return n=>{if(!(t!=null&&t.parentElement))return[];let r=Array.from(t.parentElement.children).filter(o=>o!==t);return n?r.filter(o=>o.matches(n)):r}},parents(e,t){var s;let n=typeof e=="string"?document.querySelector(e):e!=null?e:null,r=[],o=(s=n==null?void 0:n.parentElement)!=null?s:null;for(;o&&!(typeof t=="string"&&o.matches(t)||typeof t=="function"&&t(o));)r.push(o),o=o.parentElement;return r},nextAll(e,t){var s;let n=typeof e=="string"?document.querySelector(e):e!=null?e:null,r=[],o=(s=n==null?void 0:n.nextElementSibling)!=null?s:null;for(;o;)(!t||o.matches(t))&&r.push(o),o=o.nextElementSibling;return r},prevAll(e,t){var s;let n=typeof e=="string"?document.querySelector(e):e!=null?e:null,r=[],o=(s=n==null?void 0:n.previousElementSibling)!=null?s:null;for(;o;)(!t||o.matches(t))&&r.push(o),o=o.previousElementSibling;return r},closestAll(e,t){let n=typeof e=="string"?document.querySelector(e):e!=null?e:null,r=[],o=n;for(;o;)(!t||o.matches(t))&&r.push(o),o=o.parentElement;return r}},Ve={set:e=>(t,n)=>(e==null||e.style.setProperty(t,n),e),get:e=>t=>e?getComputedStyle(e).getPropertyValue(t).trim():""},_e=e=>t=>{if(!e)return"";let n=getComputedStyle(e)[t];return typeof n=="string"?n:String(n)},Je=(e,t=document.head)=>{let n=document.createElement("style");return n.textContent=e,t.appendChild(n),()=>n.remove()},le=e=>new Promise(t=>{if(!e)return t(null);let n=!1,r,o=()=>{n||(n=!0,r!==void 0&&clearTimeout(r),e.removeEventListener("transitionend",o),e.removeEventListener("animationend",o),t(e))};e.addEventListener("transitionend",o),e.addEventListener("animationend",o),requestAnimationFrame(()=>{let s=getComputedStyle(e),i=parseFloat(s.transitionDuration)*1e3,u=parseFloat(s.animationDuration)*1e3,a=Math.max(i,u);a===0?o():r=setTimeout(o,a+50)})}),Qe={clone:e=>{try{return structuredClone(e)}catch(t){return JSON.parse(JSON.stringify(e))}},isEqual:(e,t)=>e===t||JSON.stringify(e)===JSON.stringify(t),pick:(e,t)=>{let n={};return t.forEach(r=>{r in e&&(n[r]=e[r])}),n},omit:(e,t)=>{let n={...e};return t.forEach(r=>delete n[r]),n}},ze=e=>t=>{if(!e)return[];let n=Array.from(e);return n.forEach(t),n},Ge=e=>t=>{let n={};return e&&Array.from(e).forEach(r=>{let o=t(r);(n[o]=n[o]||[]).push(r)}),n},ce=e=>{let t={};return e&&e.querySelectorAll("[data-ref]").forEach(n=>{n.dataset.ref&&(t[n.dataset.ref]=n)}),t},Xe=e=>{let t={};return e&&e.querySelectorAll("[data-ref]").forEach(n=>{let r=n.dataset.ref;r&&(t[r]=t[r]||[]).push(n)}),t},Ye=(e,t="srgb")=>{let n=document.createElement("div");n.style.color=`color-mix(in ${t}, ${e} 100%, transparent)`,document.body.appendChild(n);let r=getComputedStyle(n).color;return n.remove(),r},de=e=>t=>e?()=>{let n=t.findIndex(o=>e.classList.contains(o));n>-1&&e.classList.remove(t[n]);let r=(n+1)%t.length;e.classList.add(t[r])}:()=>{},Oe=e=>{if(!e||!e.parentNode)return e;let t=e.cloneNode(!0);return e.replaceWith(t),t},Ze=e=>(t={})=>{let n=typeof e=="string"?document.querySelector(e):e;if(!n||!("content"in n))throw new Error(`instantiate: Invalid template '${e}'`);let r=n.content.cloneNode(!0);return Object.keys(t).length>0&&r.firstElementChild&&g(r.firstElementChild)(t),r},et=e=>t=>e?Array.from({length:t}).map(()=>e.cloneNode(!0)):[],me=e=>e?e.getBoundingClientRect():new DOMRect(0,0,0,0),fe=e=>{if(!e)return{top:0,left:0};let t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+window.scrollY-n.clientTop,left:t.left+window.scrollX-n.clientLeft}},tt=e=>!!(e&&(e.offsetWidth>0||e.offsetHeight>0)),nt=e=>(t={behavior:"smooth",block:"start"})=>(e==null||e.scrollIntoView(t),e),rt=e=>t=>(e==null||e.focus(t),e),ot=e=>(e==null||e.blur(),e),B=(e,t)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>e(...r),t)}},st=(e,t)=>{let n=0;return(...r)=>{let o=Date.now();o-n>=t&&(e(...r),n=o)}},W=e=>({get:t=>{let n=e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},set:t=>n=>{let r=typeof n=="object"?JSON.stringify(n):String(n);e.setItem(t,r)},remove:t=>e.removeItem(t),clear:()=>e.clear()}),it=W(window.localStorage),ut=W(window.sessionStorage),pe={get:e=>{let t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?decodeURIComponent(t[2]):null},set:e=>t=>(n={})=>{let r=new Date;r.setTime(r.getTime()+24*60*60*1e3*(n.days||0)),document.cookie=`${e}=${encodeURIComponent(t)};path=${n.path||"/"}`+(n.days?`;expires=${r.toUTCString()}`:"")+(n.secure?";secure":"")},remove:e=>{pe.set(e)("")({days:-1})}},at={register:async(e,t)=>{if("serviceWorker"in navigator)try{return await navigator.serviceWorker.register(e,t)}catch(n){return null}return null},post:e=>{navigator.serviceWorker&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage(e)}},lt=()=>{let e=[];return{add:t=>{e.push(t)},clear:()=>{e.forEach(t=>t()),e.length=0}}},ct={create:()=>{let e=new AbortController;return{signal:e.signal,abort:()=>e.abort()}},timeout:e=>{if("timeout"in AbortSignal)return AbortSignal.timeout(e);let t=new AbortController;return setTimeout(()=>t.abort(),e),t.signal},wrap:(e,t)=>t?t.aborted?Promise.reject(new DOMException("Aborted","AbortError")):new Promise((n,r)=>{let o=()=>{r(new DOMException("Aborted","AbortError")),t.removeEventListener("abort",o)};t.addEventListener("abort",o),e.then(s=>{t.removeEventListener("abort",o),n(s)},s=>{t.removeEventListener("abort",o),r(s)})}):e},dt=()=>{let e=new EventTarget;return{on:(t,n)=>{let r=o=>n(o.detail);return e.addEventListener(t,r),()=>e.removeEventListener(t,r)},emit:(t,n)=>{e.dispatchEvent(new CustomEvent(t,{detail:n}))},once:(t,n)=>{let r=o=>n(o.detail);e.addEventListener(t,r,{once:!0})}}},mt=e=>{let t=r=>(...o)=>(e&&r(e)(...o),n),n={raw:e,on:t(f),dispatch:t(O),modify:t(g),css:t(U),tempStyle:(r,o)=>{if(e){let s=Z(e)(r);o&&setTimeout(s,o)}return n},append:t(ee),prepend:t(te),after:t(ne),before:t(re),remove:()=>{e&&j(e)},empty:()=>(e&&$(e),n),wrap:t(oe),clone:()=>e?se(e):null,addClass:t(E.add),removeClass:t(E.remove),toggleClass:t(E.toggle),replaceClass:t(E.replace),hasClass:r=>e?E.has(e)(r):!1,cycleClass:t(de),dataGet:r=>e?T.get(e)(r):void 0,dataSet:t(T.set),dataRead:r=>e?T.read(e)(r):void 0,dataBind:(r,o)=>e?T.bind(e)(r,o):()=>{},watchAttr:(r,o)=>e?ue(e)(r,o):()=>{},watchText:r=>e?ae(e)(r):()=>{},val:r=>r===void 0?m.get(e):(m.set(e)(r),n),files:()=>m.files(e),onInput:r=>e?m.watch(e)(r):()=>{},onInputDebounced:(r,o)=>e?m.watchDebounced(e)(o,r):()=>{},onChange:r=>e?m.change(e)(r):()=>{},selectText:()=>(m.select(e),n),validate:()=>e?m.validate(e):!1,onKey:(r,o)=>(e&&k.is(e)(r,o),n),onTab:r=>(e&&k.onTab(e)(r),n),onArrow:r=>(e&&k.onArrow(e)(r),n),onFocus:r=>(e&&L.on(e)(r),n),onBlur:r=>(e&&L.onBlur(e)(r),n),onFocusIn:r=>(e&&L.onIn(e)(r),n),onFocusOut:r=>(e&&L.onOut(e)(r),n),trapFocus:()=>L.trap(e),clickOutside:r=>{if(!e)return()=>{};let o=s=>{e&&!e.contains(s.target)&&r()};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)},hasText:r=>e?!!P.find(e)(r):!1,findText:(r,o)=>e?P.find(e)(r,o):null,findAllText:(r,o)=>e?P.findAll(e)(r,o):[],replaceText:(r,o)=>(e&&P.replace(e)(r,o),n),transitionName:t(b.name),removeTransitionName:()=>(b.unname(e),n),transitionWith:(r,o)=>b.tempName(e)(r)(o),parent:w.parent(e),next:w.next(e),prev:w.prev(e),children:w.children(e),siblings:w.siblings(e),rect:()=>me(e),offset:()=>fe(e),scrollInto:r=>(e==null||e.scrollIntoView(r),n),focus:r=>(e==null||e.focus(r),n),blur:()=>(e==null||e.blur(),n),waitTransition:()=>le(e)};return n},ft=e=>{let t=typeof e=="string"?q(document)(e):e;if(!t)return{};let n=ce(t);return{root:t,...n}},pt=e=>{let t=typeof e=="string"?Y(document)(e):Array.from(e),n=o=>(s,i)=>(t.forEach(u=>o(u)(s,i)),r),r={raw:t,modify:n(g),css:n(U),addClass:n(E.add),removeClass:n(E.remove),toggleClass:n(E.toggle),attr:n(o=>s=>g(o)({attr:s})),on:(o,s)=>{let i=t.map(u=>f(u)(o,s));return()=>i.forEach(u=>u())},remove:()=>t.forEach(o=>j(o)),empty:()=>t.forEach(o=>$(o)),map:o=>t.map(o),filter:o=>t.filter(o)};return r},Et=e=>{if(!e)return new EventTarget;let t=new EventTarget;return new Proxy(t,{get:(n,r)=>{if(r in n){let o=n[r];return typeof o=="function"?o.bind(n):o}return T.read(e)(String(r))},set:(n,r,o)=>(r in n||(T.set(e)(String(r),o),n.dispatchEvent(new CustomEvent(String(r),{detail:o})),n.dispatchEvent(new CustomEvent("change",{detail:{prop:r,value:o}}))),!0),deleteProperty:(n,r)=>r in n?!1:(T.set(e)(String(r),null),n.dispatchEvent(new CustomEvent(String(r),{detail:null})),n.dispatchEvent(new CustomEvent("change",{detail:{prop:r,value:null}})),!0),ownKeys:()=>Reflect.ownKeys(e.dataset),getOwnPropertyDescriptor:(n,r)=>({enumerable:!0,configurable:!0})})},Tt=e=>{let t=typeof e=="string"?q(document)(e):e;return{raw:t,values:()=>R.serialize(t),set:n=>R.populate(t)(n),clear:()=>{t&&t.querySelectorAll("input, select, textarea").forEach(n=>{n.type==="checkbox"||n.type==="radio"?n.checked=!1:n.value=""})},submit:n=>f(t)("submit",r=>{r.preventDefault(),n(R.serialize(t),r)})}},m={get:e=>{if(e){if(e instanceof HTMLInputElement){if(e.type==="checkbox"||e.type==="radio")return e.checked;if(e.type==="number"||e.type==="range")return e.valueAsNumber;if(e.type==="file")return e.files;if(e.type==="date")return e.valueAsDate}return e.value}},set:e=>t=>e&&(e instanceof HTMLInputElement?e.type==="checkbox"||e.type==="radio"?e.checked=!!t:e.type==="file"?t||(e.value=""):e.type==="date"&&t instanceof Date?e.valueAsDate=t:e.value=String(t):e.value=String(t),e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),e),files:e=>e&&e.files?Array.from(e.files):[],watch:e=>t=>{if(!e)return()=>{};let n=r=>t(m.get(e),r);return e.addEventListener("input",n),()=>e.removeEventListener("input",n)},watchDebounced:e=>(t,n)=>{if(!e)return()=>{};let r=B(o=>t(m.get(e)),n);return e.addEventListener("input",r),()=>e.removeEventListener("input",r)},change:e=>t=>{if(!e)return()=>{};let n=r=>t(m.get(e),r);return e.addEventListener("change",n),()=>e.removeEventListener("change",n)},select:e=>(e==null||e.select(),e),validate:e=>t=>e?(t!==void 0&&e.setCustomValidity(t),e.checkValidity()):!1},yt={stop:e=>t=>{t.stopPropagation(),e&&e(t)},prevent:e=>t=>{t.preventDefault(),e&&e(t)},kill:e=>t=>{t.preventDefault(),t.stopPropagation(),e&&e(t)},key:(e,t)=>n=>{(Array.isArray(e)?e:[e]).includes(n.key)&&t(n)},isSelf:e=>e.target===e.currentTarget,pointer:e=>{if("touches"in e){let t=e.touches[0]||e.changedTouches[0];return{x:t.clientX,y:t.clientY}}return{x:e.clientX,y:e.clientY}}},k={is:e=>(t,n)=>f(e)("keydown",r=>{r.key===t&&n(r)}),onTab:e=>t=>f(e)("keydown",n=>{n.key==="Tab"&&t(n)}),onArrow:e=>t=>f(e)("keydown",n=>{if(n.key.startsWith("Arrow")){let r=n.key.replace("Arrow","");t(r,n)}})},L={on:e=>t=>f(e)("focus",t),onBlur:e=>t=>f(e)("blur",t),onIn:e=>t=>f(e)("focusin",t),onOut:e=>t=>f(e)("focusout",t),trap:e=>{if(!e)return()=>{};let t=n=>{if(n.key!=="Tab")return;let r=e.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),o=r[0],s=r[r.length-1];n.shiftKey?document.activeElement===o&&(n.preventDefault(),s.focus()):document.activeElement===s&&(n.preventDefault(),o.focus())};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},P={findAll:(e=document)=>(t,n="*")=>{let r=new Set,o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),s;for(;s=o.nextNode();){let i=s.parentElement,u=s.nodeValue||"";if(!i||!i.matches(n))continue;(typeof t=="string"?u.includes(t):t.test(u))&&r.add(i)}return Array.from(r)},find:(e=document)=>(t,n="*")=>{let r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),o;for(;o=r.nextNode();){let s=o.parentElement,i=o.nodeValue||"";if(!s||!s.matches(n))continue;if(typeof t=="string"?i.includes(t):t.test(i))return s}return null},replace:e=>(t,n)=>{if(!e)return e;let r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),o;for(;o=r.nextNode();){let s=o.nodeValue||"";(typeof t=="string"?s.includes(t):t.test(s))&&(o.nodeValue=s.replace(t,n))}return e}},b={isSupported:()=>"startViewTransition"in document,name:e=>t=>(e&&(e.style.viewTransitionName=t),e),unname:e=>(e&&e.style.removeProperty("view-transition-name"),e),start:e=>"startViewTransition"in document?document.startViewTransition(e):(e(),null),withClass:e=>t=>{document.documentElement.classList.add(e);let n=b.start(t);return n?n.finished.finally(()=>document.documentElement.classList.remove(e)):document.documentElement.classList.remove(e),n},tempName:e=>t=>n=>{if(!e)return b.start(n);e.style.viewTransitionName=t;let r=b.start(n);return r?r.finished.finally(()=>e.style.removeProperty("view-transition-name")):e.style.removeProperty("view-transition-name"),r}},D={resolve:e=>Promise.resolve(e),sleep:e=>new Promise(t=>setTimeout(t,e)),nextFrame:()=>new Promise(e=>requestAnimationFrame(e)),retry:(e,t={})=>{let{retries:n=3,delay:r=100,factor:o=2}=t;return e().catch(s=>{if(n<=0)throw s;return D.sleep(r).then(()=>D.retry(e,{retries:n-1,delay:r*o,factor:o}))})},timeout:(e,t)=>Promise.race([e,new Promise((n,r)=>setTimeout(()=>r(new Error("TimeoutError")),t))]),map:async(e,t,n=1/0)=>{let r=[],o=e.map((i,u)=>({item:i,i:u})),s=async()=>{for(;o.length>0;){let{item:i,i:u}=o.shift();r[u]=await t(i,u)}};return await Promise.all(Array.from({length:Math.min(e.length,n)},s)),r},defer:()=>{let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}},cancelable:e=>{let t=!1;return{promise:new Promise((r,o)=>{e.then(s=>!t&&r(s),s=>!t&&o(s))}),cancel:()=>{t=!0}}}},gt=(e={})=>{let t=e.concurrency||1,n=[],r=0,o=!e.autoStart&&e.autoStart!==void 0,s={drain:[],error:[]},i=()=>{if(o||r>=t||n.length===0){r===0&&n.length===0&&s.drain.forEach(a=>a());return}let u=n.shift();u&&(r++,Promise.resolve().then(()=>u.fn()).then(a=>u.resolve(a)).catch(a=>{s.error.forEach(l=>l(a)),u.reject(a)}).finally(()=>{r--,i()}),i())};return{add:u=>new Promise((a,l)=>{n.push({fn:u,resolve:a,reject:l}),i()}),pause:()=>{o=!0},resume:()=>{o=!1,i()},clear:()=>{n.length=0},size:()=>n.length+r,drain:()=>new Promise(u=>{if(r===0&&n.length===0)return u();s.drain.push(u)}),onError:u=>s.error.push(u)}},Ee={query:e=>(t="push")=>{let n=new URL(window.location.href);Object.entries(e).forEach(([o,s])=>{n.searchParams.delete(o),!(s==null||s==="")&&(Array.isArray(s)?s.forEach(i=>n.searchParams.append(o,String(i))):n.searchParams.set(o,String(s)))});let r=t==="replace"?"replaceState":"pushState";window.history[r](window.history.state,"",n.href)},readQuery:()=>Object.fromEntries(new URLSearchParams(window.location.search)),readQueryAll:()=>{let e={};return new URLSearchParams(window.location.search).forEach((t,n)=>{(e[n]=e[n]||[]).push(t)}),e},push:(e,t)=>{window.history.pushState(t,"",e)},replace:(e,t)=>{window.history.replaceState(t,"",e)},state:()=>window.history.state,back:()=>window.history.back(),forward:()=>window.history.forward(),reload:()=>window.location.reload(),onPop:e=>(window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)),encodeState:e=>{try{let t=JSON.stringify(e);return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(n,r)=>String.fromCharCode(parseInt(r,16))))}catch(t){return""}},decodeState:e=>{try{let t=decodeURIComponent(Array.prototype.map.call(atob(e),n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(t)}catch(t){return null}},syncToUrl:(e,t=300)=>n=>{if(!n)return()=>{};let r=n.type==="checkbox"||n.type==="radio",o=()=>{let i=new URLSearchParams(window.location.search).get(e);i!==null&&(r?n.checked=i==="true":n.value=i)},s=B(()=>{let i=r?String(n.checked):n.value;Ee.query({[e]:i})("replace")},t);return o(),n.addEventListener("input",s),n.addEventListener("change",s),window.addEventListener("popstate",o),()=>{n.removeEventListener("input",s),n.removeEventListener("change",s),window.removeEventListener("popstate",o)}}},ht={pipe:(...e)=>t=>e.reduce((n,r)=>r(n),t),curry:e=>t=>n=>e(t,n),swap:e=>t=>n=>e(n)(t),flip:e=>(t,n)=>e(n,t),tap:e=>t=>(e(t),t),maybe:e=>t=>t==null?null:e(t),unbind:e=>(t,n)=>e(n)(t),thunk:(e,...t)=>()=>e(...t),identity:e=>e,noop:()=>{}},S={ok:e=>({ok:!0,val:e,err:null}),err:e=>({ok:!1,val:null,err:e}),try:e=>{try{return S.ok(e())}catch(t){return S.err(t instanceof Error?t:new Error(String(t)))}},async:async e=>{try{let t=await e();return S.ok(t)}catch(t){return S.err(t instanceof Error?t:new Error(String(t)))}},unwrap:e=>{if(e.ok)return e.val;throw e.err},unwrapOr:(e,t)=>e.ok?e.val:t,map:(e,t)=>e.ok?S.ok(t(e.val)):e},bt={from:e=>({val:e,isSome:e!=null,isNone:e==null}),unwrapOr:(e,t)=>e!=null?e:t,map:(e,t)=>e!=null?t(e):null,then:(e,t)=>{e!=null&&t(e)}},vt={val:(e,t)=>{let n=e;return r=>{Object.is(n,r)||(n=r,t(r))}},text:e=>{let t;return n=>{e&&t!==n&&(t=n,e.textContent=n)}},html:e=>{let t;return n=>{e&&t!==n&&(t=n,e.innerHTML=n)}},attr:(e,t)=>{let n=r=>{let o;return s=>{!r||o===s||(o=s,s===null||s===!1?r.removeAttribute(e):r.setAttribute(e,String(s)))}};return t!==void 0?n(t):n},toggle:(e,t)=>{let n=r=>{let o;return s=>{!r||o===s||(o=s,r.classList.toggle(e,s))}};return t!==void 0?n(t):n},list:(e,t)=>{let n;return r=>{if(!e||r===n)return;if(n=r,r.length===0){e.firstChild&&e.replaceChildren();return}let o=document.createDocumentFragment();r.forEach((s,i)=>o.appendChild(t(s,i))),e.replaceChildren(o)}}},xt=(e,t)=>{Object.entries(t).forEach(([n,r])=>{let o=e[n];o&&Object.entries(r).forEach(([s,i])=>{f(o)(s,u=>i(u,o))})})},wt=e=>{let t=document.createElement("template");return t.innerHTML=e.trim(),()=>{let n=document.importNode(t.content,!0),r={};return n.querySelectorAll("[data-ref]").forEach(s=>{let i=s.dataset.ref;i&&(r[i]=s)}),{root:n.children.length===1?n.firstElementChild:n,refs:r}}},Lt=(e,t)=>{let n={};for(let r in t)e[r]&&(n[r]=t[r](e[r]));return n},Te=(e,t)=>({...e,...t}),ye=(e,t,n)=>{let r=t?`${t}${e}`:e;if(n){let o=new URLSearchParams;for(let[i,u]of Object.entries(n))u!=null&&o.set(i,String(u));let s=o.toString();s&&(r+=`${r.includes("?")?"&":"?"}${s}`)}return r},ge=e=>e==null?null:typeof e=="string"||e instanceof Blob||e instanceof FormData||e instanceof ArrayBuffer?e:JSON.stringify(e),he=async(e,t)=>{let n=e.headers.get("content-type")||"",r;if(n.includes("application/json"))try{r=await e.json()}catch(o){r=await e.text()}else n.includes("text")?r=await e.text():n.includes("image")||n.includes("video")||n.includes("audio")?r=await e.blob():r=await e.arrayBuffer();return t?t(r):r},V=async(e,t,n=0,r=1e3,o=0)=>{let s=new AbortController,i=o>0?setTimeout(()=>s.abort(),o):void 0;try{return await fetch(e,{...t,signal:s.signal})}catch(u){if(i!==void 0&&clearTimeout(i),n>0&&(u instanceof TypeError||u instanceof DOMException))return await new Promise(a=>setTimeout(a,r)),V(e,t,n-1,r,o);throw u}finally{i!==void 0&&clearTimeout(i)}},St={create:(e={})=>{let{baseURL:t,headers:n,timeout:r=0,retries:o=0,retryDelay:s=1e3,interceptRequest:i,interceptResponse:u}=e,a=async(l,c,x={})=>{let{body:p,baseURL:M=t,params:_,timeout:J=r,retries:Q=o,retryDelay:z=s,transform:G,...A}=x,N=Te(n,A.headers);p&&typeof p=="object"&&!Array.isArray(p)&&!(p instanceof FormData)&&(N["Content-Type"]="application/json");let H={...A,method:l,headers:N};if(p!=null&&(H.body=ge(p)),i){let y=await i(x);H={...H,...y}}let X=ye(c,M,_),h;try{h=await V(X,H,Q,z,J)}catch(y){let I={ok:!1,status:0,statusText:"Network Error",data:null,error:y instanceof Error?y:new Error(String(y)),response:null};return u?await u(I):I}let C=null;try{C=await he(h,G)}catch(y){console.error("Failed to parse response:",y)}let K={ok:h.ok,status:h.status,statusText:h.statusText,data:C,error:null,response:h};return u?await u(K):K};return{get:l=>(c={})=>a("GET",l,c),post:l=>(c={})=>a("POST",l,c),put:l=>(c={})=>a("PUT",l,c),delete:l=>(c={})=>a("DELETE",l,c),patch:l=>(c={})=>a("PATCH",l,c),isOk:l=>l.ok,unwrap:l=>{if(!l.ok)throw l.error||new Error(`HTTP ${l.status}: ${l.statusText}`);return l.data},unwrapOr:(l,c)=>l.ok?l.data:c}},get:async(e,t={})=>{let n=await fetch(e,{headers:t});if(!n.ok)throw new Error(`Http.get ${n.status}: ${n.statusText}`);return n.json()},post:e=>t=>async(n={})=>{let r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",...n},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Http.post ${r.status}: ${r.statusText}`);return r.json()},put:e=>t=>async(n={})=>{let r=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",...n},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Http.put ${r.status}: ${r.statusText}`);return r.json()},delete:async(e,t={})=>{let n=await fetch(e,{method:"DELETE",headers:t});if(!n.ok)throw new Error(`Http.delete ${n.status}: ${n.statusText}`);return n.json()}};function Mt(e){return t=>t&&t.matches(e)?t:null}function Ht(e){return e instanceof Element}function Pt(e){return t=>!!t&&t.tagName.toLowerCase()===e.toLowerCase()}function Rt(e){if(typeof e=="string"){let n=document.querySelector(e);return n?F(n,{}):!1}let t=e!=null?e:null;return n=>t?F(t,n!=null?n:{}):!1}function F(e,{partial:t=!1,threshold:n,root:r=null,margin:o}){let s=e.getBoundingClientRect(),i=be(o),u=r?r.getBoundingClientRect():{top:0,left:0,right:window.innerWidth,bottom:window.innerHeight},a={top:u.top+i.top,left:u.left+i.left,right:u.right-i.right,bottom:u.bottom-i.bottom},l=s.width*s.height;if(l===0)return!1;let c={top:Math.max(s.top,a.top),left:Math.max(s.left,a.left),right:Math.min(s.right,a.right),bottom:Math.min(s.bottom,a.bottom)},x=c.right-c.left,p=c.bottom-c.top;if(x<=0||p<=0)return!1;let M=x*p;return typeof n=="number"?M/l>=n:t?M>0:s.top>=a.top&&s.left>=a.left&&s.right<=a.right&&s.bottom<=a.bottom}function be(e){if(!e)return{top:0,left:0,right:0,bottom:0};let t=e.split(/\s+/).map(n=>parseInt(n,10)||0);switch(t.length){case 1:return{top:t[0],right:t[0],bottom:t[0],left:t[0]};case 2:return{top:t[0],right:t[1],bottom:t[0],left:t[1]};case 3:return{top:t[0],right:t[1],bottom:t[2],left:t[1]};case 4:default:return{top:t[0],right:t[1],bottom:t[2],left:t[3]}}}function kt(e){if(typeof e=="string"){let n=document.querySelector(e);return(r,o)=>n?n.animate(r,o).finished:Promise.resolve()}let t=e!=null?e:null;return(n,r)=>t?t.animate(n,r).finished:Promise.resolve()}function At(e){let t=document.createElement("template");t.innerHTML=e;let n=["script","iframe","object","embed"];return t.content.querySelectorAll(n.join(",")).forEach(r=>r.remove()),t.content.querySelectorAll("*").forEach(r=>{let o=r.getAttributeNames();for(let s of o)(s.startsWith("on")||(s==="href"||s==="src")&&(r.getAttribute(s)||"").toLowerCase().trim().startsWith("javascript:"))&&r.removeAttribute(s)}),t.innerHTML}function Nt(e){let t=document.createElement("template");return t.innerHTML=e,t.content.textContent||""}export{mt as $,pt as $$,D as Async,pe as Cookie,Ve as CssVar,T as Data,yt as Evt,ht as Fn,L as Focus,R as Form,Ee as History,St as Http,m as Input,k as Key,it as Local,Qe as Obj,bt as Option,je as Params,S as Result,at as SW,ut as Session,ct as Signal,P as Text,w as Traverse,b as ViewTransitions,ne as after,kt as animate,ee as append,Ke as attr,ze as batch,re as before,vt as bind,xt as bindEvents,Lt as binder,ot as blur,Mt as cast,se as clone,et as cloneMany,xe as closest,E as cls,ft as component,_e as computed,dt as createBus,lt as createListenerGroup,gt as createQueue,U as css,We as cssTemplate,de as cycleClass,B as debounce,d as def,O as dispatch,ke as el,$ as empty,we as exists,q as find,Y as findAll,rt as focus,Tt as form,Ge as groupBy,Xe as groupRefs,Se as has,Ae as html,Ne as htmlMany,Me as index,Je as injectStyles,Ze as instantiate,Ht as isElement,Rt as isInViewport,Pt as isTag,tt as isVisible,g as modify,Re as mount,Be as nextFrame,fe as offset,f as on,He as onDelegated,qe as onMount,De as onReady,te as prepend,Ie as prop,Fe as ready,me as rect,ce as refs,j as remove,ve as require,At as sanitizeHTMLSimple,Nt as sanitizeHTMLTextOnly,nt as scrollInto,Pe as set,Le as siblings,Et as store,Oe as stripListeners,Z as tempStyle,st as throttle,Ye as toColorSpace,wt as view,$e as wait,Ue as waitFor,le as waitTransition,ue as watchAttr,Ce as watchClass,ae as watchText,oe as wrap};
/**
 * fdom (Functional DOM) - v2.0.0
 * ==========================================
 * A production-grade, target-first, type-safe DOM library.
 *
 * -----------------------------------------------------------------------------
 * ðŸ§  DESIGN PHILOSOPHY
 * -----------------------------------------------------------------------------
 * 1. Target-First: `Action(Element)(Config)` pattern for intuitive chaining.
 * 2. Curried: Functions return closures for composition/piping.
 * 3. Null-Safe: All functions fail gracefully on `null`/`undefined` targets.
 * 4. Type-Safe: Full Generics for HTML Elements, Events, and Return types.
 *
 * -----------------------------------------------------------------------------
 * ðŸ“š API DIRECTORY (27 MODULES)
 * -----------------------------------------------------------------------------
 *
 * ðŸŸ¢ DOM CORE
  *    1. Querying ......... find, findAll, closest
  *    2. Events ........... on, onDelegated, dispatch
  *    3. Manipulation ..... modify, css, tempStyle
  *    4. Structure ........ append, prepend, after, before, remove, wrap, mount
  *    5. Creation ......... el, html, htmlMany, clone
 *
 * ðŸ”µ STATE & ATTRIBUTES
 *    6. Classes .......... cls (add/remove/toggle), watchClass
 *    7. Attributes ....... Data (get/set/read/bind), watchAttr, watchText
 *    12. Objects ......... Obj (clone, isEqual, pick, omit)
 *    14. Refs ............ refs, groupRefs (data-ref handling)
 *    16. Cycling ......... cycleClass (State machines)
 *
 * ðŸŸ¡ LIFECYCLE & OBSERVATION
 *    8. Lifecycle ........ onReady, onMount, waitFor
 *    17. Cleanup ......... stripListeners, instantiate, cloneMany
 *    20. Timing .......... debounce, throttle
 *    25. Groups .......... createListenerGroup (Batch cleanup)
 *    26. Signals ......... Signal (AbortController wrappers)
 *
 * ðŸŸ£ LAYOUT & NAVIGATION
 *    10. Navigation ...... Traverse (parent, children, siblings, next, prev, parents, nextAll, prevAll, closestAll)
 *    11. CSS Utils ....... CssVar, computed, injectStyles, waitTransition
 *    15. Color ........... toColorSpace (Color mix utils)
 *    18. Geometry ........ rect, offset, isVisible
 *    19. Scroll/Focus .... scrollInto, focus, blur
 *
 * ðŸŸ  DATA & NETWORK
 *    9. URL/Form ......... Params, Form (serialize/populate)
 *    13. Collections ..... batch, groupBy
 *    21. Storage ......... Local, Session (Typed wrappers)
 *    22. Cookies ......... Cookie (get/set/remove)
 *    23. Network ......... Http (get/post/put/delete)
 *    24. PWA ............. SW (Service Worker reg/post)
 *    27. Pub/Sub ......... createBus (Typed Event Emitter)
 *
 * @module fdom
 * @author Patrick Glenn
 * @license MIT
 */
